!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Sources=t():e.Sources=t()}(this,function(){return function(){var e={413:function(e,t,n){const{Source:o,Manga:s,Chapter:i,ChapterDetails:r,HomeSection:a,SearchRequest:c,PagedResults:u,SourceInfo:l,TagType:h,TagSection:d,ContentRating:p,HomeSectionType:f,MangaStatus:g,MangaTile:m,Tag:b}=n(687),y="https://mangatv.net",w={version:"1.0.0",name:"MangaTV",icon:"icon.png",author:"WiLyDTG",authorWebsite:"https://github.com/WiLyDTG",description:"Extensiï¿½n para leer manga desde mangatv.net",contentRating:p.MATURE,websiteBaseURL:y,sourceTags:[{text:"Spanish",type:h.GREY},{text:"Manga",type:h.BLUE}]};e.exports={MangaTVInfo:w,MangaTV:class extends o{constructor(e){super(e),this.requestManager=this.createRequestManager({requestsPerSecond:3,requestTimeout:15e3}),this.baseUrl=y}getMangaShareUrl(e){return`${this.baseUrl}/manga/${e}`}async getMangaDetails(e){const t=this.createRequestObject({url:`${this.baseUrl}/manga/${e}`,method:"GET"}),n=await this.requestManager.schedule(t,1),o=this.cheerio.load(n.data),s=o("h1").first().text().trim()||o('meta[property="og:title"]').attr("content")||"Sin tï¿½tulo";let i=o('img[src*="library"]').first().attr("src")||o('img[data-src*="library"]').first().attr("data-src")||o('meta[property="og:image"]').attr("content")||"";i&&!i.startsWith("http")&&(i=i.startsWith("//")?`https:${i}`:`${this.baseUrl}${i}`);const r=o("p").filter((e,t)=>{const n=o(t).text();return n.length>100&&!n.includes("Las imï¿½genes mostradas")}).first().text().trim()||o('meta[name="description"]').attr("content")||"";let a=g.ONGOING;const c=o('*:contains("Estado")').text().toLowerCase();(c.includes("finalizado")||c.includes("completed"))&&(a=g.COMPLETED);const u=[];o('a[href*="genre"]').each((e,t)=>{const n=o(t).text().trim();n&&u.push(this.createTag({id:n.toLowerCase(),label:n}))});let l="";const h=o('*:contains("Autor")').next().text().trim();return h&&(l=h),this.createManga({id:e,titles:[s],image:i,status:a,author:l,artist:l,tags:[this.createTagSection({id:"0",label:"Gï¿½neros",tags:u})],desc:r,rating:0})}async getChapters(e){const t=this.createRequestObject({url:`${this.baseUrl}/manga/${e}`,method:"GET"}),n=await this.requestManager.schedule(t,1),o=this.cheerio.load(n.data),s=[];return o('a[href*="/leer/"]').each((t,n)=>{const i=o(n).attr("href");if(!i)return;const r=i.split("/leer/")[1]?.split("/")[0];if(!r)return;const a=o(n).parent().text()||o(n).text(),c=a.match(/Cap[ï¿½i]tulo\s*([\d.]+)/i),u=c?parseFloat(c[1]):t+1;let l="";const h=a.match(/(\d{4}-\d{2}-\d{2})/);h&&(l=h[1]);let d="";const p=a.match(/([A-Za-z\s]+Scan[s]?|[A-Za-z\s]+Fansub)/i);p&&(d=p[1].trim()),s.find(e=>e.id===r)||s.push(this.createChapter({id:r,mangaId:e,name:`Capï¿½tulo ${u}`,langCode:"es",chapNum:u,time:l?new Date(l):new Date,group:d}))}),s.sort((e,t)=>t.chapNum-e.chapNum),s}async getChapterDetails(e,t){const n=this.createRequestObject({url:`${this.baseUrl}/leer/${t}`,method:"GET"}),o=await this.requestManager.schedule(n,1),s=this.cheerio.load(o.data),i=[];if(s('img[src*="mangatv.net/library"], img[data-src*="mangatv.net/library"]').each((e,t)=>{let n=s(t).attr("src")||s(t).attr("data-src");n&&(n.startsWith("//")&&(n=`https:${n}`),n.includes("/library/")&&!i.includes(n)&&i.push(n))}),0===i.length){const e=s("script").text().match(/https?:\/\/[^"'\s]+\.(?:jpg|jpeg|png|webp|gif)/gi);e&&e.forEach(e=>{e.includes("mangatv.net")&&e.includes("library")&&!i.includes(e)&&i.push(e)})}return this.createChapterDetails({id:t,mangaId:e,pages:i,longStrip:!1})}async getSearchResults(e,t){const n=t?.page||1;let o=`${this.baseUrl}/lista?page=${n}`;e.title&&(o=`${this.baseUrl}/lista?buscar=${encodeURIComponent(e.title)}&page=${n}`),e.includedTags&&e.includedTags.length>0&&(o+=`&genre[]=${e.includedTags.map(e=>encodeURIComponent(e.id)).join("&genre[]=")}`);const s=this.createRequestObject({url:o,method:"GET"}),i=await this.requestManager.schedule(s,1),r=this.cheerio.load(i.data),a=[];r('a[href*="/manga/"]').each((e,t)=>{const n=r(t).attr("href");if(!n||n.includes("/lista"))return;const o=n.match(/\/manga\/(\d+\/[^/]+)/);if(!o)return;const s=o[1],i=r(t).text().trim()||r(t).find("img").attr("alt")||"Sin tï¿½tulo";let c=r(t).find("img").attr("src")||r(t).find("img").attr("data-src")||"";c&&c.startsWith("//")&&(c=`https:${c}`),!a.find(e=>e.id===s)&&i.length>0&&!i.includes("VER TODO")&&a.push(this.createMangaTile({id:s,image:c||`${this.baseUrl}/assets/images/black.png`,title:this.createIconText({text:i}),subtitleText:this.createIconText({text:""})}))});const c=r('a[href*="page='+(n+1)+'"]').length>0||r('a:contains("Next")').length>0||r('a:contains("")').length>0;return this.createPagedResults({results:a,metadata:c?{page:n+1}:void 0})}async getHomePageSections(e){const t=this.createHomeSection({id:"latest",title:"ï¿½ltimas Actualizaciones",type:f.singleRowNormal,view_more:!0}),n=this.createHomeSection({id:"popular",title:"Mangas Populares",type:f.singleRowNormal,view_more:!0});e(t),e(n);const o=this.createRequestObject({url:`${this.baseUrl}/lista`,method:"GET"}),s=await this.requestManager.schedule(o,1),i=this.cheerio.load(s.data),r=[];i('a[href*="/manga/"]').each((e,t)=>{const n=i(t).attr("href");if(!n||n.includes("/lista"))return;const o=n.match(/\/manga\/(\d+\/[^/]+)/);if(!o)return;const s=o[1],a=i(t).text().trim();let c=i(t).find("img").attr("src")||i(t).find("img").attr("data-src")||"";c&&c.startsWith("//")&&(c=`https:${c}`),!r.find(e=>e.id===s)&&a.length>2&&!a.includes("VER TODO")&&r.push(this.createMangaTile({id:s,image:c||`${this.baseUrl}/assets/images/black.png`,title:this.createIconText({text:a}),subtitleText:this.createIconText({text:""})}))}),t.items=r.slice(0,20),e(t);const a=this.createRequestObject({url:this.baseUrl,method:"GET"}),c=await this.requestManager.schedule(a,1),u=this.cheerio.load(c.data),l=[];u('a[href*="/manga/"]').each((e,t)=>{const n=u(t).attr("href");if(!n)return;const o=n.match(/\/manga\/(\d+\/[^/]+)/);if(!o)return;const s=o[1],i=u(t).text().trim();let r=u(t).find("img").attr("src")||u(t).find("img").attr("data-src")||"";r&&r.startsWith("//")&&(r=`https:${r}`),!l.find(e=>e.id===s)&&i.length>2&&!i.includes("VER TODO")&&l.push(this.createMangaTile({id:s,image:r||`${this.baseUrl}/assets/images/black.png`,title:this.createIconText({text:i}),subtitleText:this.createIconText({text:""})}))}),n.items=l.slice(0,20),e(n)}async getViewMoreItems(e,t){const n=t?.page||1;let o=`${this.baseUrl}/lista?page=${n}`;"popular"===e&&(o=`${this.baseUrl}/lista?ordenar=votos&page=${n}`);const s=this.createRequestObject({url:o,method:"GET"}),i=await this.requestManager.schedule(s,1),r=this.cheerio.load(i.data),a=[];r('a[href*="/manga/"]').each((e,t)=>{const n=r(t).attr("href");if(!n||n.includes("/lista"))return;const o=n.match(/\/manga\/(\d+\/[^/]+)/);if(!o)return;const s=o[1],i=r(t).text().trim();let c=r(t).find("img").attr("src")||r(t).find("img").attr("data-src")||"";c&&c.startsWith("//")&&(c=`https:${c}`),!a.find(e=>e.id===s)&&i.length>2&&!i.includes("VER TODO")&&a.push(this.createMangaTile({id:s,image:c||`${this.baseUrl}/assets/images/black.png`,title:this.createIconText({text:i}),subtitleText:this.createIconText({text:""})}))});const c=r('a[href*="page='+(n+1)+'"]').length>0||r('a:contains("")').length>0;return this.createPagedResults({results:a,metadata:c?{page:n+1}:void 0})}async getTags(){const e=this.createRequestObject({url:`${this.baseUrl}/lista`,method:"GET"}),t=await this.requestManager.schedule(e,1),n=this.cheerio.load(t.data),o=[];n('select[name="generos"] option, a[href*="genre"]').each((e,t)=>{const s=n(t).attr("value")||n(t).text().trim(),i=n(t).text().trim();s&&i&&"Todos"!==i&&(o.find(e=>e.id===s.toLowerCase())||o.push(this.createTag({id:s.toLowerCase(),label:i})))});const s=[];return n('select[name="tipos"] option').each((e,t)=>{const o=n(t).attr("value"),i=n(t).text().trim();o&&i&&"Todos"!==i&&s.push(this.createTag({id:o,label:i}))}),[this.createTagSection({id:"genres",label:"Gï¿½neros",tags:o}),this.createTagSection({id:"types",label:"Tipo",tags:s})]}getCloudflareBypassRequestAsync(){return this.createRequestObject({url:this.baseUrl,method:"GET",headers:{referer:this.baseUrl,"user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"}})}}}},929:function(e,t,n){"use strict";var o;n.d(t,{D:function(){return o}}),function(e){e[e.featured=0]="featured",e[e.simpleCarousel=1]="simpleCarousel",e[e.prominentCarousel=2]="prominentCarousel",e[e.chapterUpdates=3]="chapterUpdates",e[e.genres=4]="genres"}(o||(o={}))},370:function(e,t,n){"use strict";Object.freeze({items:[],metadata:void 0})},403:function(e,t,n){"use strict";n.d(t,{NO:function(){return S},zE:function(){return u},Oi:function(){return O},HG:function(){return j},T4:function(){return M},B8:function(){return p},lV:function(){return o},BC:function(){return i},hl:function(){return s},rV:function(){return h},kt:function(){return d},PR:function(){return y},wn:function(){return f},FF:function(){return c},JB:function(){return I},wy:function(){return r},lB:function(){return $n},P8:function(){return a},k:function(){return E},MZ:function(){return l},NN:function(){return b},it:function(){return g},ln:function(){return m},vx:function(){return N},I6:function(){return Wn},dK:function(){return _n},p$:function(){return Hn},Fe:function(){return Gn},AE:function(){return qn}});class o{reloadForm(){const e=this.__underlying_formId;e&&Application.formDidChange(e)}get requiresExplicitSubmission(){return!1}}function s(e,t){return{...t,id:e,type:"labelRow",isHidden:t.isHidden??!1}}function i(e,t){return{...t,id:e,type:"inputRow",isHidden:t.isHidden??!1}}function r(e,t){return{...t,id:e,type:"stepperRow",isHidden:t.isHidden??!1}}function a(e,t){return{...t,id:e,type:"toggleRow",isHidden:t.isHidden??!1}}function c(e,t){return{...t,id:e,type:"selectRow",isHidden:t.isHidden??!1}}function u(e,t){return{...t,id:e,type:"buttonRow",isHidden:t.isHidden??!1}}function l(e,t){return{...t,id:e,type:"webViewRow",isHidden:t.isHidden??!1}}function h(e,t){return{...t,id:e,type:"navigationRow",isHidden:t.isHidden??!1}}function d(e,t){return{...t,id:e,type:"oauthButtonRow",isHidden:t.isHidden??!1}}function p(e){return e()}function f(e,t){let n;return n="string"==typeof e?{id:e}:e,{...n,items:t.filter(e=>e)}}function g(e){return b(["getChapters","getMangaDetails"],e)}function m(e){return b(["getSearchFilters","getSearchResults"],e)}function b(e,t){return e.every(e=>e in t)}class y{id;constructor(e){this.id=e}registerInterceptor(){Application.registerInterceptor(this.id,Application.Selector(this,"interceptRequest"),Application.Selector(this,"interceptResponse"))}unregisterInterceptor(){Application.unregisterInterceptor(this.id)}}const w={},x={},v=async e=>{if(w[e])return await w[e],void await v(e);w[e]=new Promise(t=>x[e]=()=>{delete w[e],t()})};class S extends y{options;promise;currentRequestsMade=0;lastReset=Date.now();imageRegex=new RegExp(/\.(png|gif|jpeg|jpg|webp)(\?|$)/i);constructor(e,t){super(e),this.options=t}async interceptRequest(e){return this.options.ignoreImages&&this.imageRegex.test(e.url)||(await v(this.id),await this.incrementRequestCount(),t=this.id,x[t]&&x[t]()),e;var t}async interceptResponse(e,t,n){return n}async incrementRequestCount(){if(await this.promise,(Date.now()-this.lastReset)/1e3>this.options.bufferInterval&&(this.currentRequestsMade=0,this.lastReset=Date.now()),this.currentRequestsMade+=1,this.currentRequestsMade>=this.options.numberOfRequests){const e=(Date.now()-this.lastReset)/1e3;if(e<=this.options.bufferInterval){const t=this.options.bufferInterval-e;console.log(`[BasicRateLimiter] rate limit hit, sleeping for ${t}`),this.promise=Application.sleep(t)}}}}class O extends Error{resolutionRequest;type="cloudflareError";constructor(e,t="Cloudflare bypass is required"){super(t),this.resolutionRequest=e}}function N(e){const t={},n=e.match(/^(?:([a-zA-Z][a-zA-Z\d+\-.]*):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/);if(!n)throw new Error("Invalid URL string provided.");if(void 0!==n[1]&&""!==n[1]&&(t.protocol=n[1]),void 0!==n[2]&&""!==n[2]){const e=n[2];let o="",s="";const i=e.indexOf("@");if(-1!==i){if(o=e.substring(0,i),s=e.substring(i+1),""!==o){const e=o.indexOf(":");-1!==e?(t.username=o.substring(0,e),t.password=o.substring(e+1)):(t.username=o,t.password="")}}else s=e;if(""!==s)if(s.startsWith("[")){const e=s.indexOf("]");if(-1===e)throw new Error("Invalid IPv6 address in URL update.");t.hostname=s.substring(0,e+1);const n=s.substring(e+1);n.startsWith(":")&&(t.port=n.substring(1))}else{const e=s.lastIndexOf(":");-1!==e&&s.indexOf(":")===e?(t.hostname=s.substring(0,e),t.port=s.substring(e+1)):(t.hostname=s,t.port="")}}if(void 0!==n[3]&&""!==n[3]&&(t.path=n[3].startsWith("/")?n[3]:`/${n[3]}`),void 0!==n[4]){const e={},o=n[4].split("&");for(const t of o){if(!t)continue;const[n,o=""]=t.split("=");if(void 0===n)continue;const s=decodeURIComponent(n),i=decodeURIComponent(o);if(s in e){const t=e[s];Array.isArray(t)?t.push(i):e[s]=[t,i]}else e[s]=i}t.queryItems=e}return void 0!==n[5]&&(t.fragment=n[5]),t}class E{protocol;hostname;path;username;password;port;queryItems;fragment;constructor(e){const t=N(e);if(!t.hostname||!t.protocol)throw new Error("URL Hostname and Protocol are required");this.hostname=t.hostname,this.protocol=t.protocol,this.path=t.path??"",this.username=t.username,this.password=t.password,this.port=t.port,this.queryItems=t.queryItems,this.fragment=t.fragment}toString(){let e=`${this.protocol}://`;if(void 0!==this.username&&""!==this.username&&(e+=this.username,void 0!==this.password&&""!==this.password&&(e+=`:${this.password}`),e+="@"),e+=this.hostname,void 0!==this.port&&""!==this.port&&(e+=`:${this.port}`),""!==this.path&&(e+=this.path.startsWith("/")?this.path:`/${this.path}`),void 0!==this.queryItems){const t=Object.keys(this.queryItems),n=[];if(t.length>0)for(const e of t){const t=this.queryItems[e];if(Array.isArray(t))for(const o of t)n.push(`${encodeURIComponent(e)}=${encodeURIComponent(o)}`);else void 0!==t&&n.push(`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)}e+=`?${n.join("&")}`}return void 0!==this.fragment&&(e+=`#${this.fragment}`),e}setProtocol(e){if(""===e)throw new Error("Protocol is required");return this.protocol=e,this}setUsername(e){return this.username=""===e?void 0:e,this}setPassword(e){return this.password=""===e?void 0:e,this}setHostname(e){if(""===e)throw new Error("Hostname is required");return this.hostname=e,this}setPort(e){return this.port=""===e?void 0:e,this}setPath(e){return this.path=e.startsWith("/")?e:`/${e}`,this}addPathComponent(e){return this.path=(this.path??"")+(e.startsWith("/")?e:`/${e}`),this}setQueryItems(e){return this.queryItems=e,this}setQueryItem(e,t){return void 0===this.queryItems&&(this.queryItems={}),this.queryItems[e]=t,this}removeQueryItem(e){return delete this.queryItems?.[e],this}setFragment(e){return this.fragment=e,this}update(e){let t;return t="string"==typeof e?N(e):e,void 0!==t.protocol&&this.setProtocol(t.protocol),void 0!==t.username&&this.setUsername(t.username),void 0!==t.password&&this.setPassword(t.password),void 0!==t.hostname&&this.setHostname(t.hostname),void 0!==t.port&&this.setPort(t.port),void 0!==t.path&&this.setPath(t.path),void 0!==t.queryItems&&this.setQueryItems(t.queryItems),void 0!==t.fragment&&this.setFragment(t.fragment),this}}const P="cookie_store_cookies";class M extends y{options;_cookies={};get cookies(){return Object.freeze(Object.values(this._cookies))}set cookies(e){const t={};for(const n of e)this.isCookieExpired(n)||(t[this.cookieIdentifier(n)]=n);this._cookies=t,this.saveCookiesToStorage()}constructor(e){super("cookie_store"),this.options=e,this.loadCookiesFromStorage()}async interceptRequest(e){return e.cookies={...e.cookies??{},...this.cookiesForUrl(e.url).reduce((e,t)=>(e[t.name]=t.value,e),{})},e}async interceptResponse(e,t,n){const o=this._cookies;for(const e of t.cookies){const t=this.cookieIdentifier(e);this.isCookieExpired(e)?delete o[t]:o[t]=e}return this._cookies=o,this.saveCookiesToStorage(),n}setCookie(e){this.isCookieExpired(e)||(this._cookies[this.cookieIdentifier(e)]=e,this.saveCookiesToStorage())}deleteCookie(e){delete this._cookies[this.cookieIdentifier(e)]}cookiesForUrl(e){console.log("[COMPAT] COOKIES FOR URL");const t=new E(e),n=t.hostname;if(!n)return[];const o={},s=t.path.startsWith("/")?t.path:`/${t.path}`,i=n.split("."),r=s.split("/");r.shift();const a=this.cookies;for(const e of a){if(this.isCookieExpired(e)){delete this._cookies[this.cookieIdentifier(e)];continue}const t=this.cookieSanitizedDomain(e).split(".");if(i.length<t.length||0==t.length)continue;let n=!0;for(let e=0;e<t.length;e++){const o=t.length-1-e,s=i.length-1-e;if(t[o]!=i[s]){n=!1;break}}if(!n)continue;const a=this.cookieSanitizedPath(e),c=a.split("/");c.shift();let u=0;if(s===a)u=Number.MAX_SAFE_INTEGER;else if(0===c.length||"/"===a)u=1;else if(s.startsWith(a)&&r.length>=c.length)for(let e=0;e<c.length&&c[e]===r[e];e++)u+=1;u<=0||(o[e.name]?.pathMatches??0)<u&&(o[e.name]={cookie:e,pathMatches:u})}return Object.values(o).map(e=>e.cookie)}cookieIdentifier(e){return`${e.name}-${this.cookieSanitizedDomain(e)}-${this.cookieSanitizedPath(e)}`}cookieSanitizedPath(e){return e.path?.startsWith("/")?e.path:"/"+(e.path??"")}cookieSanitizedDomain(e){return e.domain.replace(/^(www)?\.?/gi,"").toLowerCase()}isCookieExpired(e){return!!(e.expires&&e.expires.getTime()<=Date.now())}loadCookiesFromStorage(){if("memory"==this.options.storage)return;const e=Application.getState(P);if(!e)return void(this._cookies={});const t={};for(const n of e)n.expires&&!this.isCookieExpired(n)&&(t[this.cookieIdentifier(n)]=n);this._cookies=t}saveCookiesToStorage(){"memory"!=this.options.storage&&Application.setState(this.cookies.filter(e=>e.expires),P)}}var I,j;!function(e){e[e.NONE=0]="NONE",e[e.MANGA_CHAPTERS=1]="MANGA_CHAPTERS",e[e.CHAPTER_PROVIDING=1]="CHAPTER_PROVIDING",e[e.MANGA_PROGRESS=2]="MANGA_PROGRESS",e[e.MANGA_PROGRESS_PROVIDING=2]="MANGA_PROGRESS_PROVIDING",e[e.DISCOVER_SECIONS=4]="DISCOVER_SECIONS",e[e.DISCOVER_SECIONS_PROVIDING=4]="DISCOVER_SECIONS_PROVIDING",e[e.COLLECTION_MANAGEMENT=8]="COLLECTION_MANAGEMENT",e[e.MANAGED_COLLECTION_PROVIDING=8]="MANAGED_COLLECTION_PROVIDING",e[e.CLOUDFLARE_BYPASS_REQUIRED=16]="CLOUDFLARE_BYPASS_REQUIRED",e[e.CLOUDFLARE_BYPASS_PROVIDING=16]="CLOUDFLARE_BYPASS_PROVIDING",e[e.SETTINGS_UI=32]="SETTINGS_UI",e[e.SETTINGS_FORM_PROVIDING=32]="SETTINGS_FORM_PROVIDING",e[e.MANGA_SEARCH=64]="MANGA_SEARCH",e[e.SEARCH_RESULTS_PROVIDING=64]="SEARCH_RESULTS_PROVIDING"}(I||(I={})),function(e){e.EVERYONE="SAFE",e.MATURE="MATURE",e.ADULT="ADULT"}(j||(j={}));var A=Object.defineProperty,C=(e,t)=>A(e,"name",{value:t,configurable:!0}),k=(e,t)=>{for(var n in t)A(e,n,{get:t[n],enumerable:!0})},D={};k(D,{addChainableMethod:()=>_t,addLengthGuard:()=>Et,addMethod:()=>At,addProperty:()=>Ot,checkError:()=>T,compareByInspect:()=>Lt,eql:()=>Xe,expectTypes:()=>W,flag:()=>U,getActual:()=>K,getMessage:()=>He,getName:()=>Ht,getOperator:()=>Gt,getOwnEnumerableProperties:()=>Ut,getOwnEnumerablePropertySymbols:()=>Bt,getPathInfo:()=>xt,hasProperty:()=>bt,inspect:()=>Fe,isNaN:()=>Vt,isNumeric:()=>Kt,isProxyEnabled:()=>St,isRegExp:()=>Wt,objDisplay:()=>Ge,overwriteChainableMethod:()=>zt,overwriteMethod:()=>kt,overwriteProperty:()=>Ct,proxify:()=>It,test:()=>V,transferFlags:()=>We,type:()=>F});var T={};function R(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function $(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function q(e,t){return R(t)&&e===t}function _(e,t){return R(t)?e.constructor===t.constructor||e instanceof t.constructor:!("object"!=typeof t&&"function"!=typeof t||!t.prototype)&&(e.constructor===t||e instanceof t)}function z(e,t){const n="string"==typeof e?e:e.message;return $(t)?t.test(n):"string"==typeof t&&-1!==n.indexOf(t)}function L(e){let t=e;return R(e)?t=e.constructor.name:"function"==typeof e&&(t=e.name,""===t)&&(t=(new e).name||t),t}function B(e){let t="";return e&&e.message?t=e.message:"string"==typeof e&&(t=e),t}function U(e,t,n){let o=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return o[t];o[t]=n}function V(e,t){let n=U(e,"negate"),o=t[0];return n?!o:o}function F(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=e[Symbol.toStringTag];return"string"==typeof t?t:Object.prototype.toString.call(e).slice(8,-1)}k(T,{compatibleConstructor:()=>_,compatibleInstance:()=>q,compatibleMessage:()=>z,getConstructorName:()=>L,getMessage:()=>B}),C(R,"isErrorInstance"),C($,"isRegExp"),C(q,"compatibleInstance"),C(_,"compatibleConstructor"),C(z,"compatibleMessage"),C(L,"getConstructorName"),C(B,"getMessage"),C(U,"flag"),C(V,"test"),C(F,"type");var G="captureStackTrace"in Error,H=class e extends Error{static{C(this,"AssertionError")}message;get name(){return"AssertionError"}get ok(){return!1}constructor(t="Unspecified AssertionError",n,o){super(t),this.message=t,G&&Error.captureStackTrace(this,o||e);for(const e in n)e in this||(this[e]=n[e])}toJSON(e){return{...this,name:this.name,message:this.message,ok:!1,stack:!1!==e?this.stack:void 0}}};function W(e,t){let n=U(e,"message"),o=U(e,"ssfi");n=n?n+": ":"",e=U(e,"object"),(t=t.map(function(e){return e.toLowerCase()})).sort();let s=t.map(function(e,n){let o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a";return(t.length>1&&n===t.length-1?"or ":"")+o+" "+e}).join(", "),i=F(e).toLowerCase();if(!t.some(function(e){return i===e}))throw new H(n+"object tested must be "+s+", but "+i+" given",void 0,o)}function K(e,t){return t.length>4?t[4]:e._obj}C(W,"expectTypes"),C(K,"getActual");var Z={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},Y={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},J="â€¦";function Q(e,t){const n=Z[Y[t]]||Z[t]||"";return n?`[${n[0]}m${String(e)}[${n[1]}m`:String(e)}function X({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:o=!0,showProxy:s=!1,maxArrayLength:i=1/0,breakLength:r=1/0,seen:a=[],truncate:c=1/0,stylize:u=String}={},l){const h={showHidden:Boolean(e),depth:Number(t),colors:Boolean(n),customInspect:Boolean(o),showProxy:Boolean(s),maxArrayLength:Number(i),breakLength:Number(r),truncate:Number(c),seen:a,inspect:l,stylize:u};return h.colors&&(h.stylize=Q),h}function ee(e){return e>="\ud800"&&e<="\udbff"}function te(e,t,n=J){e=String(e);const o=n.length,s=e.length;if(o>t&&s>o)return n;if(s>t&&s>o){let s=t-o;return s>0&&ee(e[s-1])&&(s-=1),`${e.slice(0,s)}${n}`}return e}function ne(e,t,n,o=", "){n=n||t.inspect;const s=e.length;if(0===s)return"";const i=t.truncate;let r="",a="",c="";for(let u=0;u<s;u+=1){const s=u+1===e.length,l=u+2===e.length;c=`${J}(${e.length-u})`;const h=e[u];t.truncate=i-r.length-(s?0:o.length);const d=a||n(h,t)+(s?"":o),p=r.length+d.length,f=p+c.length;if(s&&p>i&&r.length+c.length<=i)break;if(!s&&!l&&f>i)break;if(a=s?"":n(e[u+1],t)+(l?"":o),!s&&l&&f>i&&p+a.length>i)break;if(r+=d,!s&&!l&&p+a.length>=i){c=`${J}(${e.length-u-1})`;break}c=""}return`${r}${c}`}function oe(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function se([e,t],n){return n.truncate-=2,"string"==typeof e?e=oe(e):"number"!=typeof e&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,`${e}: ${t=n.inspect(t,n)}`}function ie(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const o=ne(e,t);t.truncate-=o.length;let s="";return n.length&&(s=ne(n.map(t=>[t,e[t]]),t,se)),`[ ${o}${s?`, ${s}`:""} ]`}C(Q,"colorise"),C(X,"normaliseOptions"),C(ee,"isHighSurrogate"),C(te,"truncate"),C(ne,"inspectList"),C(oe,"quoteComplexKey"),C(se,"inspectProperty"),C(ie,"inspectArray");var re=C(e=>"function"==typeof Buffer&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name,"getArrayName");function ae(e,t){const n=re(e);t.truncate-=n.length+4;const o=Object.keys(e).slice(e.length);if(!e.length&&!o.length)return`${n}[]`;let s="";for(let n=0;n<e.length;n++){const o=`${t.stylize(te(e[n],t.truncate),"number")}${n===e.length-1?"":", "}`;if(t.truncate-=o.length,e[n]!==e.length&&t.truncate<=3){s+=`${J}(${e.length-e[n]+1})`;break}s+=o}let i="";return o.length&&(i=ne(o.map(t=>[t,e[t]]),t,se)),`${n}[ ${s}${i?`, ${i}`:""} ]`}function ce(e,t){const n=e.toJSON();if(null===n)return"Invalid Date";const o=n.split("T"),s=o[0];return t.stylize(`${s}T${te(o[1],t.truncate-s.length-1)}`,"date")}function ue(e,t){const n=e[Symbol.toStringTag]||"Function",o=e.name;return o?t.stylize(`[${n} ${te(o,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function le([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,`${e} => ${t=n.inspect(t,n)}`}function he(e){const t=[];return e.forEach((e,n)=>{t.push([n,e])}),t}function de(e,t){return 0===e.size?"Map{}":(t.truncate-=7,`Map{ ${ne(he(e),t,le)} }`)}C(ae,"inspectTypedArray"),C(ce,"inspectDate"),C(ue,"inspectFunction"),C(le,"inspectMapEntry"),C(he,"mapToEntries"),C(de,"inspectMap");var pe=Number.isNaN||(e=>e!=e);function fe(e,t){return pe(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):0===e?t.stylize(1/e==1/0?"+0":"-0","number"):t.stylize(te(String(e),t.truncate),"number")}function ge(e,t){let n=te(e.toString(),t.truncate-1);return n!==J&&(n+="n"),t.stylize(n,"bigint")}function me(e,t){const n=e.toString().split("/")[2],o=t.truncate-(2+n.length),s=e.source;return t.stylize(`/${te(s,o)}/${n}`,"regexp")}function be(e){const t=[];return e.forEach(e=>{t.push(e)}),t}function ye(e,t){return 0===e.size?"Set{}":(t.truncate-=7,`Set{ ${ne(be(e),t)} }`)}C(fe,"inspectNumber"),C(ge,"inspectBigInt"),C(me,"inspectRegExp"),C(be,"arrayFromSet"),C(ye,"inspectSet");var we=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),xe={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};function ve(e){return xe[e]||`\\u${`0000${e.charCodeAt(0).toString(16)}`.slice(-4)}`}function Se(e,t){return we.test(e)&&(e=e.replace(we,ve)),t.stylize(`'${te(e,t.truncate-2)}'`,"string")}function Oe(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}C(ve,"escape"),C(Se,"inspectString"),C(Oe,"inspectSymbol");var Ne=C(()=>"Promise{â€¦}","getPromiseValue");function Ee(e,t){const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(0===n.length&&0===o.length)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const s=ne(n.map(t=>[t,e[t]]),t,se),i=ne(o.map(t=>[t,e[t]]),t,se);t.seen.pop();let r="";return s&&i&&(r=", "),`{ ${s}${r}${i} }`}C(Ee,"inspectObject");var Pe=!("undefined"==typeof Symbol||!Symbol.toStringTag)&&Symbol.toStringTag;function Me(e,t){let n="";return Pe&&Pe in e&&(n=e[Pe]),n=n||e.constructor.name,n&&"_class"!==n||(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${Ee(e,t)}`}function Ie(e,t){return 0===e.length?"Arguments[]":(t.truncate-=13,`Arguments[ ${ne(e,t)} ]`)}C(Me,"inspectClass"),C(Ie,"inspectArguments");var je=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function Ae(e,t){const n=Object.getOwnPropertyNames(e).filter(e=>-1===je.indexOf(e)),o=e.name;t.truncate-=o.length;let s="";if("string"==typeof e.message?s=te(e.message,t.truncate):n.unshift("message"),s=s?`: ${s}`:"",t.truncate-=s.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const i=ne(n.map(t=>[t,e[t]]),t,se);return`${o}${s}${i?` { ${i} }`:""}`}function Ce([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function ke(e,t){return ne(e,t,De,"\n")}function De(e,t){switch(e.nodeType){case 1:return Te(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}function Te(e,t){const n=e.getAttributeNames(),o=e.tagName.toLowerCase(),s=t.stylize(`<${o}`,"special"),i=t.stylize(">","special"),r=t.stylize(`</${o}>`,"special");t.truncate-=2*o.length+5;let a="";n.length>0&&(a+=" ",a+=ne(n.map(t=>[t,e.getAttribute(t)]),t,Ce," ")),t.truncate-=a.length;const c=t.truncate;let u=ke(e.children,t);return u&&u.length>c&&(u=`${J}(${e.children.length})`),`${s}${a}${i}${u}${r}`}C(Ae,"inspectObject"),C(Ce,"inspectAttribute"),C(ke,"inspectNodeCollection"),C(De,"inspectNode"),C(Te,"inspectHTML");var Re="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("chai/inspect"):"@@chai/inspect",$e=Symbol.for("nodejs.util.inspect.custom"),qe=new WeakMap,_e={},ze={undefined:C((e,t)=>t.stylize("undefined","undefined"),"undefined"),null:C((e,t)=>t.stylize("null","null"),"null"),boolean:C((e,t)=>t.stylize(String(e),"boolean"),"boolean"),Boolean:C((e,t)=>t.stylize(String(e),"boolean"),"Boolean"),number:fe,Number:fe,bigint:ge,BigInt:ge,string:Se,String:Se,function:ue,Function:ue,symbol:Oe,Symbol:Oe,Array:ie,Date:ce,Map:de,Set:ye,RegExp:me,Promise:Ne,WeakSet:C((e,t)=>t.stylize("WeakSet{â€¦}","special"),"WeakSet"),WeakMap:C((e,t)=>t.stylize("WeakMap{â€¦}","special"),"WeakMap"),Arguments:Ie,Int8Array:ae,Uint8Array:ae,Uint8ClampedArray:ae,Int16Array:ae,Uint16Array:ae,Int32Array:ae,Uint32Array:ae,Float32Array:ae,Float64Array:ae,Generator:C(()=>"","Generator"),DataView:C(()=>"","DataView"),ArrayBuffer:C(()=>"","ArrayBuffer"),Error:Ae,HTMLCollection:ke,NodeList:ke},Le=C((e,t,n)=>Re in e&&"function"==typeof e[Re]?e[Re](t):$e in e&&"function"==typeof e[$e]?e[$e](t.depth,t):"inspect"in e&&"function"==typeof e.inspect?e.inspect(t.depth,t):"constructor"in e&&qe.has(e.constructor)?qe.get(e.constructor)(e,t):_e[n]?_e[n](e,t):"","inspectCustom"),Be=Object.prototype.toString;function Ue(e,t={}){const n=X(t,Ue),{customInspect:o}=n;let s=null===e?"null":typeof e;if("object"===s&&(s=Be.call(e).slice(8,-1)),s in ze)return ze[s](e,n);if(o&&e){const t=Le(e,n,s);if(t)return"string"==typeof t?t:Ue(t,n)}const i=!!e&&Object.getPrototypeOf(e);return i===Object.prototype||null===i?Ee(e,n):e&&"function"==typeof HTMLElement&&e instanceof HTMLElement?Te(e,n):"constructor"in e?e.constructor!==Object?Me(e,n):Ee(e,n):e===Object(e)?Ee(e,n):n.stylize(String(e),s)}C(Ue,"inspect");var Ve={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"],deepEqual:null};function Fe(e,t,n,o){return Ue(e,{colors:o,depth:void 0===n?2:n,showHidden:t,truncate:Ve.truncateThreshold?Ve.truncateThreshold:1/0})}function Ge(e){let t=Fe(e),n=Object.prototype.toString.call(e);if(Ve.truncateThreshold&&t.length>=Ve.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){let t=Object.keys(e);return"{ Object ("+(t.length>2?t.splice(0,2).join(", ")+", ...":t.join(", "))+") }"}return t}return t}function He(e,t){let n=U(e,"negate"),o=U(e,"object"),s=t[3],i=K(e,t),r=n?t[2]:t[1],a=U(e,"message");return"function"==typeof r&&(r=r()),r=r||"",r=r.replace(/#\{this\}/g,function(){return Ge(o)}).replace(/#\{act\}/g,function(){return Ge(i)}).replace(/#\{exp\}/g,function(){return Ge(s)}),a?a+": "+r:r}function We(e,t,n){let o=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3!==arguments.length||n;for(let e in o)(n||"object"!==e&&"ssfi"!==e&&"lockSsfi"!==e&&"message"!=e)&&(t.__flags[e]=o[e])}function Ke(e){if(void 0===e)return"undefined";if(null===e)return"null";const t=e[Symbol.toStringTag];return"string"==typeof t?t:Object.prototype.toString.call(e).slice(8,-1)}function Ze(){this._key="chai/deep-eql__"+Math.random()+Date.now()}C(Fe,"inspect"),C(Ge,"objDisplay"),C(He,"getMessage"),C(We,"transferFlags"),C(Ke,"type"),C(Ze,"FakeMap"),Ze.prototype={get:C(function(e){return e[this._key]},"get"),set:C(function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:t,configurable:!0})},"set")};var Ye="function"==typeof WeakMap?WeakMap:Ze;function Je(e,t,n){if(!n||gt(e)||gt(t))return null;var o=n.get(e);if(o){var s=o.get(t);if("boolean"==typeof s)return s}return null}function Qe(e,t,n,o){if(n&&!gt(e)&&!gt(t)){var s=n.get(e);s?s.set(t,o):((s=new Ye).set(t,o),n.set(e,s))}}C(Je,"memoizeCompare"),C(Qe,"memoizeSet");var Xe=et;function et(e,t,n){if(n&&n.comparator)return nt(e,t,n);var o=tt(e,t);return null!==o?o:nt(e,t,n)}function tt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t||!gt(e)&&!gt(t)&&null}function nt(e,t,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new Ye);var o=n&&n.comparator,s=Je(e,t,n.memoize);if(null!==s)return s;var i=Je(t,e,n.memoize);if(null!==i)return i;if(o){var r=o(e,t);if(!1===r||!0===r)return Qe(e,t,n.memoize,r),r;var a=tt(e,t);if(null!==a)return a}var c=Ke(e);if(c!==Ke(t))return Qe(e,t,n.memoize,!1),!1;Qe(e,t,n.memoize,!0);var u=ot(e,t,c,n);return Qe(e,t,n.memoize,u),u}function ot(e,t,n,o){switch(n){case"String":case"Number":case"Boolean":case"Date":return et(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return pt(e,t,["name","message","code"],o);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return rt(e,t,o);case"RegExp":return st(e,t);case"Generator":return at(e,t,o);case"DataView":return rt(new Uint8Array(e.buffer),new Uint8Array(t.buffer),o);case"ArrayBuffer":return rt(new Uint8Array(e),new Uint8Array(t),o);case"Set":case"Map":return it(e,t,o);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return ft(e,t,o)}}function st(e,t){return e.toString()===t.toString()}function it(e,t,n){try{if(e.size!==t.size)return!1;if(0===e.size)return!0}catch(e){return!1}var o=[],s=[];return e.forEach(C(function(e,t){o.push([e,t])},"gatherEntries")),t.forEach(C(function(e,t){s.push([e,t])},"gatherEntries")),rt(o.sort(),s.sort(),n)}function rt(e,t,n){var o=e.length;if(o!==t.length)return!1;if(0===o)return!0;for(var s=-1;++s<o;)if(!1===et(e[s],t[s],n))return!1;return!0}function at(e,t,n){return rt(lt(e),lt(t),n)}function ct(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&void 0!==Symbol.iterator&&"function"==typeof e[Symbol.iterator]}function ut(e){if(ct(e))try{return lt(e[Symbol.iterator]())}catch(e){return[]}return[]}function lt(e){for(var t=e.next(),n=[t.value];!1===t.done;)t=e.next(),n.push(t.value);return n}function ht(e){var t=[];for(var n in e)t.push(n);return t}function dt(e){for(var t=[],n=Object.getOwnPropertySymbols(e),o=0;o<n.length;o+=1){var s=n[o];Object.getOwnPropertyDescriptor(e,s).enumerable&&t.push(s)}return t}function pt(e,t,n,o){var s=n.length;if(0===s)return!0;for(var i=0;i<s;i+=1)if(!1===et(e[n[i]],t[n[i]],o))return!1;return!0}function ft(e,t,n){var o=ht(e),s=ht(t),i=dt(e),r=dt(t);if(o=o.concat(i),s=s.concat(r),o.length&&o.length===s.length)return!1!==rt(mt(o).sort(),mt(s).sort())&&pt(e,t,o,n);var a=ut(e),c=ut(t);return a.length&&a.length===c.length?(a.sort(),c.sort(),rt(a,c,n)):0===o.length&&0===a.length&&0===s.length&&0===c.length}function gt(e){return null===e||"object"!=typeof e}function mt(e){return e.map(C(function(e){return"symbol"==typeof e?e.toString():e},"mapSymbol"))}function bt(e,t){return null!=e&&t in Object(e)}function yt(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(e=>{if("constructor"===e||"__proto__"===e||"prototype"===e)return{};const t=/^\[(\d+)\]$/.exec(e);let n=null;return n=t?{i:parseFloat(t[1])}:{p:e.replace(/\\([.[\]])/g,"$1")},n})}function wt(e,t,n){let o=e,s=null;n=void 0===n?t.length:n;for(let e=0;e<n;e++){const i=t[e];o&&(o=void 0===i.p?o[i.i]:o[i.p],e===n-1&&(s=o))}return s}function xt(e,t){const n=yt(t),o=n[n.length-1],s={parent:n.length>1?wt(e,n,n.length-1):e,name:o.p||o.i,value:wt(e,n)};return s.exists=bt(s.parent,s.name),s}C(et,"deepEqual"),C(tt,"simpleEqual"),C(nt,"extensiveDeepEqual"),C(ot,"extensiveDeepEqualByType"),C(st,"regexpEqual"),C(it,"entriesEqual"),C(rt,"iterableEqual"),C(at,"generatorEqual"),C(ct,"hasIteratorFunction"),C(ut,"getIteratorEntries"),C(lt,"getGeneratorEntries"),C(ht,"getEnumerableKeys"),C(dt,"getEnumerableSymbols"),C(pt,"keysEqual"),C(ft,"objectEqual"),C(gt,"isPrimitive"),C(mt,"mapSymbols"),C(bt,"hasProperty"),C(yt,"parsePath"),C(wt,"internalGetPathValue"),C(xt,"getPathInfo");var vt=class e{static{C(this,"Assertion")}__flags={};constructor(t,n,o,s){return U(this,"ssfi",o||e),U(this,"lockSsfi",s),U(this,"object",t),U(this,"message",n),U(this,"eql",Ve.deepEqual||Xe),It(this)}static get includeStack(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),Ve.includeStack}static set includeStack(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),Ve.includeStack=e}static get showDiff(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),Ve.showDiff}static set showDiff(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),Ve.showDiff=e}static addProperty(e,t){Ot(this.prototype,e,t)}static addMethod(e,t){At(this.prototype,e,t)}static addChainableMethod(e,t,n){_t(this.prototype,e,t,n)}static overwriteProperty(e,t){Ct(this.prototype,e,t)}static overwriteMethod(e,t){kt(this.prototype,e,t)}static overwriteChainableMethod(e,t,n){zt(this.prototype,e,t,n)}assert(e,t,n,o,s,i){const r=V(this,arguments);if(!1!==i&&(i=!0),void 0===o&&void 0===s&&(i=!1),!0!==Ve.showDiff&&(i=!1),!r){t=He(this,arguments);const e={actual:K(this,arguments),expected:o,showDiff:i},n=Gt(this,arguments);throw n&&(e.operator=n),new H(t,e,Ve.includeStack?this.assert:U(this,"ssfi"))}}get _obj(){return U(this,"object")}set _obj(e){U(this,"object",e)}};function St(){return Ve.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}function Ot(e,t,n){n=void 0===n?function(){}:n,Object.defineProperty(e,t,{get:C(function e(){St()||U(this,"lockSsfi")||U(this,"ssfi",e);let t=n.call(this);if(void 0!==t)return t;let o=new vt;return We(this,o),o},"propertyGetter"),configurable:!0})}C(St,"isProxyEnabled"),C(Ot,"addProperty");var Nt=Object.getOwnPropertyDescriptor(function(){},"length");function Et(e,t,n){return Nt.configurable?(Object.defineProperty(e,"length",{get:C(function(){if(n)throw Error("Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.');throw Error("Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')},"get")}),e):e}function Pt(e){let t=Object.getOwnPropertyNames(e);function n(e){-1===t.indexOf(e)&&t.push(e)}C(n,"addProperty");let o=Object.getPrototypeOf(e);for(;null!==o;)Object.getOwnPropertyNames(o).forEach(n),o=Object.getPrototypeOf(o);return t}C(Et,"addLengthGuard"),C(Pt,"getProperties");var Mt=["__flags","__methods","_obj","assert"];function It(e,t){return St()?new Proxy(e,{get:C(function e(n,o){if("string"==typeof o&&-1===Ve.proxyExcludedKeys.indexOf(o)&&!Reflect.has(n,o)){if(t)throw Error("Invalid Chai property: "+t+"."+o+'. See docs for proper usage of "'+t+'".');let e=null,s=4;throw Pt(n).forEach(function(t){if(!Object.prototype.hasOwnProperty(t)&&-1===Mt.indexOf(t)){let n=jt(o,t,s);n<s&&(e=t,s=n)}}),null!==e?Error("Invalid Chai property: "+o+'. Did you mean "'+e+'"?'):Error("Invalid Chai property: "+o)}return-1!==Mt.indexOf(o)||U(n,"lockSsfi")||U(n,"ssfi",e),Reflect.get(n,o)},"proxyGetter")}):e}function jt(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;let o=[];for(let n=0;n<=e.length;n++)o[n]=Array(t.length+1).fill(0),o[n][0]=n;for(let e=0;e<t.length;e++)o[0][e]=e;for(let s=1;s<=e.length;s++){let i=e.charCodeAt(s-1);for(let e=1;e<=t.length;e++)Math.abs(s-e)>=n?o[s][e]=n:o[s][e]=Math.min(o[s-1][e]+1,o[s][e-1]+1,o[s-1][e-1]+(i===t.charCodeAt(e-1)?0:1))}return o[e.length][t.length]}function At(e,t,n){let o=C(function(){U(this,"lockSsfi")||U(this,"ssfi",o);let e=n.apply(this,arguments);if(void 0!==e)return e;let t=new vt;return We(this,t),t},"methodWrapper");Et(o,t,!1),e[t]=It(o,t)}function Ct(e,t,n){let o=Object.getOwnPropertyDescriptor(e,t),s=C(function(){},"_super");o&&"function"==typeof o.get&&(s=o.get),Object.defineProperty(e,t,{get:C(function e(){St()||U(this,"lockSsfi")||U(this,"ssfi",e);let t=U(this,"lockSsfi");U(this,"lockSsfi",!0);let o=n(s).call(this);if(U(this,"lockSsfi",t),void 0!==o)return o;let i=new vt;return We(this,i),i},"overwritingPropertyGetter"),configurable:!0})}function kt(e,t,n){let o=e[t],s=C(function(){throw new Error(t+" is not a function")},"_super");o&&"function"==typeof o&&(s=o);let i=C(function(){U(this,"lockSsfi")||U(this,"ssfi",i);let e=U(this,"lockSsfi");U(this,"lockSsfi",!0);let t=n(s).apply(this,arguments);if(U(this,"lockSsfi",e),void 0!==t)return t;let o=new vt;return We(this,o),o},"overwritingMethodWrapper");Et(i,t,!1),e[t]=It(i,t)}C(It,"proxify"),C(jt,"stringDistanceCapped"),C(At,"addMethod"),C(Ct,"overwriteProperty"),C(kt,"overwriteMethod");var Dt="function"==typeof Object.setPrototypeOf,Tt=C(function(){},"testFn"),Rt=Object.getOwnPropertyNames(Tt).filter(function(e){let t=Object.getOwnPropertyDescriptor(Tt,e);return"object"!=typeof t||!t.configurable}),$t=Function.prototype.call,qt=Function.prototype.apply;function _t(e,t,n,o){"function"!=typeof o&&(o=C(function(){},"chainingBehavior"));let s={method:n,chainingBehavior:o};e.__methods||(e.__methods={}),e.__methods[t]=s,Object.defineProperty(e,t,{get:C(function(){s.chainingBehavior.call(this);let n=C(function(){U(this,"lockSsfi")||U(this,"ssfi",n);let e=s.method.apply(this,arguments);if(void 0!==e)return e;let t=new vt;return We(this,t),t},"chainableMethodWrapper");if(Et(n,t,!0),Dt){let e=Object.create(this);e.call=$t,e.apply=qt,Object.setPrototypeOf(n,e)}else Object.getOwnPropertyNames(e).forEach(function(t){if(-1!==Rt.indexOf(t))return;let o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o)});return We(this,n),It(n)},"chainableMethodGetter"),configurable:!0})}function zt(e,t,n,o){let s=e.__methods[t],i=s.chainingBehavior;s.chainingBehavior=C(function(){let e=o(i).call(this);if(void 0!==e)return e;let t=new vt;return We(this,t),t},"overwritingChainableMethodGetter");let r=s.method;s.method=C(function(){let e=n(r).apply(this,arguments);if(void 0!==e)return e;let t=new vt;return We(this,t),t},"overwritingChainableMethodWrapper")}function Lt(e,t){return Fe(e)<Fe(t)?-1:1}function Bt(e){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})}function Ut(e){return Object.keys(e).concat(Bt(e))}C(_t,"addChainableMethod"),C(zt,"overwriteChainableMethod"),C(Lt,"compareByInspect"),C(Bt,"getOwnEnumerablePropertySymbols"),C(Ut,"getOwnEnumerableProperties");var Vt=Number.isNaN;function Ft(e){let t=F(e);return-1!==["Array","Object","Function"].indexOf(t)}function Gt(e,t){let n=U(e,"operator"),o=U(e,"negate"),s=t[3],i=o?t[2]:t[1];if(n)return n;if("function"==typeof i&&(i=i()),i=i||"",!i)return;if(/\shave\s/.test(i))return;let r=Ft(s);return/\snot\s/.test(i)?r?"notDeepStrictEqual":"notStrictEqual":r?"deepStrictEqual":"strictEqual"}function Ht(e){return e.name}function Wt(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function Kt(e){return["Number","BigInt"].includes(F(e))}C(Ft,"isObjectType"),C(Gt,"getOperator"),C(Ht,"getName"),C(Wt,"isRegExp"),C(Kt,"isNumeric");var{flag:Zt}=D;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(e){vt.addProperty(e)}),vt.addProperty("not",function(){Zt(this,"negate",!0)}),vt.addProperty("deep",function(){Zt(this,"deep",!0)}),vt.addProperty("nested",function(){Zt(this,"nested",!0)}),vt.addProperty("own",function(){Zt(this,"own",!0)}),vt.addProperty("ordered",function(){Zt(this,"ordered",!0)}),vt.addProperty("any",function(){Zt(this,"any",!0),Zt(this,"all",!1)}),vt.addProperty("all",function(){Zt(this,"all",!0),Zt(this,"any",!1)});var Yt={function:["function","asyncfunction","generatorfunction","asyncgeneratorfunction"],asyncfunction:["asyncfunction","asyncgeneratorfunction"],generatorfunction:["generatorfunction","asyncgeneratorfunction"],asyncgeneratorfunction:["asyncgeneratorfunction"]};function Jt(e,t){t&&Zt(this,"message",t),e=e.toLowerCase();let n=Zt(this,"object"),o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";const s=F(n).toLowerCase();Yt.function.includes(e)?this.assert(Yt[e].includes(s),"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e):this.assert(e===s,"expected #{this} to be "+o+e,"expected #{this} not to be "+o+e)}function Qt(e,t){return Vt(e)&&Vt(t)||e===t}function Xt(){Zt(this,"contains",!0)}function en(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object"),o=F(n).toLowerCase(),s=Zt(this,"message"),i=Zt(this,"negate"),r=Zt(this,"ssfi"),a=Zt(this,"deep"),c=a?"deep ":"",u=a?Zt(this,"eql"):Qt;s=s?s+": ":"";let l=!1;switch(o){case"string":l=-1!==n.indexOf(e);break;case"weakset":if(a)throw new H(s+"unable to use .deep.include with WeakSet",void 0,r);l=n.has(e);break;case"map":n.forEach(function(t){l=l||u(t,e)});break;case"set":a?n.forEach(function(t){l=l||u(t,e)}):l=n.has(e);break;case"array":l=a?n.some(function(t){return u(t,e)}):-1!==n.indexOf(e);break;default:{if(e!==Object(e))throw new H(s+"the given combination of arguments ("+o+" and "+F(e).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+F(e).toLowerCase(),void 0,r);let t=Object.keys(e),a=null,c=0;if(t.forEach(function(o){let s=new vt(n);if(We(this,s,!0),Zt(s,"lockSsfi",!0),i&&1!==t.length)try{s.property(o,e[o])}catch(e){if(!T.compatibleConstructor(e,H))throw e;null===a&&(a=e),c++}else s.property(o,e[o])},this),i&&t.length>1&&c===t.length)throw a;return}}this.assert(l,"expected #{this} to "+c+"include "+Fe(e),"expected #{this} to not "+c+"include "+Fe(e))}function tn(){let e=Zt(this,"object");this.assert(null!=e,"expected #{this} to exist","expected #{this} to not exist")}function nn(){let e=F(Zt(this,"object"));this.assert("Arguments"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function on(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object");if(Zt(this,"deep")){let t=Zt(this,"lockSsfi");Zt(this,"lockSsfi",!0),this.eql(e),Zt(this,"lockSsfi",t)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function sn(e,t){t&&Zt(this,"message",t);let n=Zt(this,"eql");this.assert(n(e,Zt(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function rn(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object"),o=Zt(this,"doLength"),s=Zt(this,"message"),i=s?s+": ":"",r=Zt(this,"ssfi"),a=F(n).toLowerCase(),c=F(e).toLowerCase();if(o&&"map"!==a&&"set"!==a&&new vt(n,s,r,!0).to.have.property("length"),!o&&"date"===a&&"date"!==c)throw new H(i+"the argument to above must be a date",void 0,r);if(!Kt(e)&&(o||Kt(n)))throw new H(i+"the argument to above must be a number",void 0,r);if(!o&&"date"!==a&&!Kt(n))throw new H(i+"expected "+("string"===a?"'"+n+"'":n)+" to be a number or a date",void 0,r);if(o){let t,o="length";"map"===a||"set"===a?(o="size",t=n.size):t=n.length,this.assert(t>e,"expected #{this} to have a "+o+" above #{exp} but got #{act}","expected #{this} to not have a "+o+" above #{exp}",e,t)}else this.assert(n>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}function an(e,t){t&&Zt(this,"message",t);let n,o=Zt(this,"object"),s=Zt(this,"doLength"),i=Zt(this,"message"),r=i?i+": ":"",a=Zt(this,"ssfi"),c=F(o).toLowerCase(),u=F(e).toLowerCase(),l=!0;if(s&&"map"!==c&&"set"!==c&&new vt(o,i,a,!0).to.have.property("length"),s||"date"!==c||"date"===u?Kt(e)||!s&&!Kt(o)?s||"date"===c||Kt(o)?l=!1:n=r+"expected "+("string"===c?"'"+o+"'":o)+" to be a number or a date":n=r+"the argument to least must be a number":n=r+"the argument to least must be a date",l)throw new H(n,void 0,a);if(s){let t,n="length";"map"===c||"set"===c?(n="size",t=o.size):t=o.length,this.assert(t>=e,"expected #{this} to have a "+n+" at least #{exp} but got #{act}","expected #{this} to have a "+n+" below #{exp}",e,t)}else this.assert(o>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}function cn(e,t){t&&Zt(this,"message",t);let n,o=Zt(this,"object"),s=Zt(this,"doLength"),i=Zt(this,"message"),r=i?i+": ":"",a=Zt(this,"ssfi"),c=F(o).toLowerCase(),u=F(e).toLowerCase(),l=!0;if(s&&"map"!==c&&"set"!==c&&new vt(o,i,a,!0).to.have.property("length"),s||"date"!==c||"date"===u?Kt(e)||!s&&!Kt(o)?s||"date"===c||Kt(o)?l=!1:n=r+"expected "+("string"===c?"'"+o+"'":o)+" to be a number or a date":n=r+"the argument to below must be a number":n=r+"the argument to below must be a date",l)throw new H(n,void 0,a);if(s){let t,n="length";"map"===c||"set"===c?(n="size",t=o.size):t=o.length,this.assert(t<e,"expected #{this} to have a "+n+" below #{exp} but got #{act}","expected #{this} to not have a "+n+" below #{exp}",e,t)}else this.assert(o<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}function un(e,t){t&&Zt(this,"message",t);let n,o=Zt(this,"object"),s=Zt(this,"doLength"),i=Zt(this,"message"),r=i?i+": ":"",a=Zt(this,"ssfi"),c=F(o).toLowerCase(),u=F(e).toLowerCase(),l=!0;if(s&&"map"!==c&&"set"!==c&&new vt(o,i,a,!0).to.have.property("length"),s||"date"!==c||"date"===u?Kt(e)||!s&&!Kt(o)?s||"date"===c||Kt(o)?l=!1:n=r+"expected "+("string"===c?"'"+o+"'":o)+" to be a number or a date":n=r+"the argument to most must be a number":n=r+"the argument to most must be a date",l)throw new H(n,void 0,a);if(s){let t,n="length";"map"===c||"set"===c?(n="size",t=o.size):t=o.length,this.assert(t<=e,"expected #{this} to have a "+n+" at most #{exp} but got #{act}","expected #{this} to have a "+n+" above #{exp}",e,t)}else this.assert(o<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}function ln(e,t){t&&Zt(this,"message",t);let n,o=Zt(this,"object"),s=Zt(this,"ssfi"),i=Zt(this,"message");try{n=o instanceof e}catch(t){if(t instanceof TypeError)throw i=i?i+": ":"",new H(i+"The instanceof assertion needs a constructor but "+F(e)+" was given.",void 0,s);throw t}let r=Ht(e);null==r&&(r="an unnamed constructor"),this.assert(n,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function hn(e,t,n){n&&Zt(this,"message",n);let o=Zt(this,"nested"),s=Zt(this,"own"),i=Zt(this,"message"),r=Zt(this,"object"),a=Zt(this,"ssfi"),c=typeof e;if(i=i?i+": ":"",o){if("string"!==c)throw new H(i+"the argument to property must be a string when using nested syntax",void 0,a)}else if("string"!==c&&"number"!==c&&"symbol"!==c)throw new H(i+"the argument to property must be a string, number, or symbol",void 0,a);if(o&&s)throw new H(i+'The "nested" and "own" flags cannot be combined.',void 0,a);if(null==r)throw new H(i+"Target cannot be null or undefined.",void 0,a);let u,l=Zt(this,"deep"),h=Zt(this,"negate"),d=o?xt(r,e):null,p=o?d.value:r[e],f=l?Zt(this,"eql"):(e,t)=>e===t,g="";l&&(g+="deep "),s&&(g+="own "),o&&(g+="nested "),g+="property ",u=s?Object.prototype.hasOwnProperty.call(r,e):o?d.exists:bt(r,e),h&&1!==arguments.length||this.assert(u,"expected #{this} to have "+g+Fe(e),"expected #{this} to not have "+g+Fe(e)),arguments.length>1&&this.assert(u&&f(t,p),"expected #{this} to have "+g+Fe(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+g+Fe(e)+" of #{act}",t,p),Zt(this,"object",p)}function dn(e,t,n){Zt(this,"own",!0),hn.apply(this,arguments)}function pn(e,t,n){"string"==typeof t&&(n=t,t=null),n&&Zt(this,"message",n);let o=Zt(this,"object"),s=Object.getOwnPropertyDescriptor(Object(o),e),i=Zt(this,"eql");s&&t?this.assert(i(t,s),"expected the own property descriptor for "+Fe(e)+" on #{this} to match "+Fe(t)+", got "+Fe(s),"expected the own property descriptor for "+Fe(e)+" on #{this} to not match "+Fe(t),t,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+Fe(e),"expected #{this} to not have an own property descriptor for "+Fe(e)),Zt(this,"object",s)}function fn(){Zt(this,"doLength",!0)}function gn(e,t){t&&Zt(this,"message",t);let n,o=Zt(this,"object"),s=F(o).toLowerCase(),i=Zt(this,"message"),r=Zt(this,"ssfi"),a="length";switch(s){case"map":case"set":a="size",n=o.size;break;default:new vt(o,i,r,!0).to.have.property("length"),n=o.length}this.assert(n==e,"expected #{this} to have a "+a+" of #{exp} but got #{act}","expected #{this} to not have a "+a+" of #{act}",e,n)}function mn(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function bn(e){let t,n,o=Zt(this,"object"),s=F(o),i=F(e),r=Zt(this,"ssfi"),a=Zt(this,"deep"),c="",u=!0,l=Zt(this,"message");l=l?l+": ":"";let h=l+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===s||"Set"===s)c=a?"deeply ":"",n=[],o.forEach(function(e,t){n.push(t)}),"Array"!==i&&(e=Array.prototype.slice.call(arguments));else{switch(n=Ut(o),i){case"Array":if(arguments.length>1)throw new H(h,void 0,r);break;case"Object":if(arguments.length>1)throw new H(h,void 0,r);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map(function(e){return"symbol"==typeof e?e:String(e)})}if(!e.length)throw new H(l+"keys required",void 0,r);let d=e.length,p=Zt(this,"any"),f=Zt(this,"all"),g=e,m=a?Zt(this,"eql"):(e,t)=>e===t;if(p||f||(f=!0),p&&(u=g.some(function(e){return n.some(function(t){return m(e,t)})})),f&&(u=g.every(function(e){return n.some(function(t){return m(e,t)})}),Zt(this,"contains")||(u=u&&e.length==n.length)),d>1){let n=(e=e.map(function(e){return Fe(e)})).pop();f&&(t=e.join(", ")+", and "+n),p&&(t=e.join(", ")+", or "+n)}else t=Fe(e[0]);t=(d>1?"keys ":"key ")+t,t=(Zt(this,"contains")?"contain ":"have ")+t,this.assert(u,"expected #{this} to "+c+t,"expected #{this} to not "+c+t,g.slice(0).sort(Lt),n.sort(Lt),!0)}function yn(e,t,n){n&&Zt(this,"message",n);let o,s=Zt(this,"object"),i=Zt(this,"ssfi"),r=Zt(this,"message"),a=Zt(this,"negate")||!1;new vt(s,r,i,!0).is.a("function"),(Wt(e)||"string"==typeof e)&&(t=e,e=null);let c=!1;try{s()}catch(e){c=!0,o=e}let u=void 0===e&&void 0===t,l=Boolean(e&&t),h=!1,d=!1;if(u||!u&&!a){let t="an error";e instanceof Error?t="#{exp}":e&&(t=T.getConstructorName(e));let n=o;if(o instanceof Error)n=o.toString();else if("string"==typeof o)n=o;else if(o&&("object"==typeof o||"function"==typeof o))try{n=T.getConstructorName(o)}catch(e){}this.assert(c,"expected #{this} to throw "+t,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),n)}if(e&&o&&(e instanceof Error&&T.compatibleInstance(o,e)===a&&(l&&a?h=!0:this.assert(a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(o&&!a?" but #{act} was thrown":""),e.toString(),o.toString())),T.compatibleConstructor(o,e)===a&&(l&&a?h=!0:this.assert(a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(o?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&T.getConstructorName(e),o instanceof Error?o.toString():o&&T.getConstructorName(o)))),o&&null!=t){let e="including";Wt(t)&&(e="matching"),T.compatibleMessage(o,t)===a&&(l&&a?d=!0:this.assert(a,"expected #{this} to throw error "+e+" #{exp} but got #{act}","expected #{this} to throw error not "+e+" #{exp}",t,T.getMessage(o)))}h&&d&&this.assert(a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(o?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&T.getConstructorName(e),o instanceof Error?o.toString():o&&T.getConstructorName(o)),Zt(this,"object",o)}function wn(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object"),o=Zt(this,"itself"),s="function"!=typeof n||o?n[e]:n.prototype[e];this.assert("function"==typeof s,"expected #{this} to respond to "+Fe(e),"expected #{this} to not respond to "+Fe(e))}function xn(e,t){t&&Zt(this,"message",t);let n=e(Zt(this,"object"));this.assert(n,"expected #{this} to satisfy "+Ge(e),"expected #{this} to not satisfy"+Ge(e),!Zt(this,"negate"),n)}function vn(e,t,n){n&&Zt(this,"message",n);let o=Zt(this,"object"),s=Zt(this,"message"),i=Zt(this,"ssfi");new vt(o,s,i,!0).is.numeric;let r="A `delta` value is required for `closeTo`";if(null==t)throw new H(s?`${s}: ${r}`:r,void 0,i);if(new vt(t,s,i,!0).is.numeric,r="A `expected` value is required for `closeTo`",null==e)throw new H(s?`${s}: ${r}`:r,void 0,i);new vt(e,s,i,!0).is.numeric;const a=C(e=>e<0n?-e:e,"abs"),c=C(e=>parseFloat(parseFloat(e).toPrecision(12)),"strip");this.assert(c(a(o-e))<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}function Sn(e,t,n,o,s){let i=Array.from(t),r=Array.from(e);if(!o){if(r.length!==i.length)return!1;i=i.slice()}return r.every(function(e,t){if(s)return n?n(e,i[t]):e===i[t];if(!n){let t=i.indexOf(e);return-1!==t&&(o||i.splice(t,1),!0)}return i.some(function(t,s){return!!n(e,t)&&(o||i.splice(s,1),!0)})})}function On(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object"),o=Zt(this,"message"),s=Zt(this,"ssfi"),i=Zt(this,"contains"),r=Zt(this,"deep"),a=Zt(this,"eql");new vt(e,o,s,!0).to.be.an("array"),i?this.assert(e.some(function(e){return n.indexOf(e)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",e,n):r?this.assert(e.some(function(e){return a(n,e)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",e,n):this.assert(e.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,n)}function Nn(e,t,n){n&&Zt(this,"message",n);let o,s=Zt(this,"object"),i=Zt(this,"message"),r=Zt(this,"ssfi");new vt(s,i,r,!0).is.a("function"),t?(new vt(e,i,r,!0).to.have.property(t),o=e[t]):(new vt(e,i,r,!0).is.a("function"),o=e()),s();let a=null==t?e():e[t],c=null==t?o:"."+t;Zt(this,"deltaMsgObj",c),Zt(this,"initialDeltaValue",o),Zt(this,"finalDeltaValue",a),Zt(this,"deltaBehavior","change"),Zt(this,"realDelta",a!==o),this.assert(o!==a,"expected "+c+" to change","expected "+c+" to not change")}function En(e,t,n){n&&Zt(this,"message",n);let o,s=Zt(this,"object"),i=Zt(this,"message"),r=Zt(this,"ssfi");new vt(s,i,r,!0).is.a("function"),t?(new vt(e,i,r,!0).to.have.property(t),o=e[t]):(new vt(e,i,r,!0).is.a("function"),o=e()),new vt(o,i,r,!0).is.a("number"),s();let a=null==t?e():e[t],c=null==t?o:"."+t;Zt(this,"deltaMsgObj",c),Zt(this,"initialDeltaValue",o),Zt(this,"finalDeltaValue",a),Zt(this,"deltaBehavior","increase"),Zt(this,"realDelta",a-o),this.assert(a-o>0,"expected "+c+" to increase","expected "+c+" to not increase")}function Pn(e,t,n){n&&Zt(this,"message",n);let o,s=Zt(this,"object"),i=Zt(this,"message"),r=Zt(this,"ssfi");new vt(s,i,r,!0).is.a("function"),t?(new vt(e,i,r,!0).to.have.property(t),o=e[t]):(new vt(e,i,r,!0).is.a("function"),o=e()),new vt(o,i,r,!0).is.a("number"),s();let a=null==t?e():e[t],c=null==t?o:"."+t;Zt(this,"deltaMsgObj",c),Zt(this,"initialDeltaValue",o),Zt(this,"finalDeltaValue",a),Zt(this,"deltaBehavior","decrease"),Zt(this,"realDelta",o-a),this.assert(a-o<0,"expected "+c+" to decrease","expected "+c+" to not decrease")}function Mn(e,t){t&&Zt(this,"message",t);let n,o=Zt(this,"deltaMsgObj"),s=Zt(this,"initialDeltaValue"),i=Zt(this,"finalDeltaValue"),r=Zt(this,"deltaBehavior"),a=Zt(this,"realDelta");n="change"===r?Math.abs(i-s)===Math.abs(e):a===Math.abs(e),this.assert(n,"expected "+o+" to "+r+" by "+e,"expected "+o+" to not "+r+" by "+e)}function In(e,t){return e===t||typeof t==typeof e&&("object"!=typeof e||null===e?e===t:!!t&&(Array.isArray(e)?!!Array.isArray(t)&&e.every(function(e){return t.some(function(t){return In(e,t)})}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Object.keys(e).every(function(n){let o=e[n],s=t[n];return"object"==typeof o&&null!==o&&null!==s?In(o,s):"function"==typeof o?o(s):s===o})))}function jn(e,t){return new vt(e,t)}C(Jt,"an"),vt.addChainableMethod("an",Jt),vt.addChainableMethod("a",Jt),C(Qt,"SameValueZero"),C(Xt,"includeChainingBehavior"),C(en,"include"),vt.addChainableMethod("include",en,Xt),vt.addChainableMethod("contain",en,Xt),vt.addChainableMethod("contains",en,Xt),vt.addChainableMethod("includes",en,Xt),vt.addProperty("ok",function(){this.assert(Zt(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),vt.addProperty("true",function(){this.assert(!0===Zt(this,"object"),"expected #{this} to be true","expected #{this} to be false",!Zt(this,"negate"))}),vt.addProperty("numeric",function(){const e=Zt(this,"object");this.assert(["Number","BigInt"].includes(F(e)),"expected #{this} to be numeric","expected #{this} to not be numeric",!Zt(this,"negate"))}),vt.addProperty("callable",function(){const e=Zt(this,"object"),t=Zt(this,"ssfi"),n=Zt(this,"message"),o=n?`${n}: `:"",s=Zt(this,"negate"),i=s?`${o}expected ${Fe(e)} not to be a callable function`:`${o}expected ${Fe(e)} to be a callable function`,r=["Function","AsyncFunction","GeneratorFunction","AsyncGeneratorFunction"].includes(F(e));if(r&&s||!r&&!s)throw new H(i,void 0,t)}),vt.addProperty("false",function(){this.assert(!1===Zt(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!Zt(this,"negate"))}),vt.addProperty("null",function(){this.assert(null===Zt(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),vt.addProperty("undefined",function(){this.assert(void 0===Zt(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),vt.addProperty("NaN",function(){this.assert(Vt(Zt(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),C(tn,"assertExist"),vt.addProperty("exist",tn),vt.addProperty("exists",tn),vt.addProperty("empty",function(){let e,t=Zt(this,"object"),n=Zt(this,"ssfi"),o=Zt(this,"message");switch(o=o?o+": ":"",F(t).toLowerCase()){case"array":case"string":e=t.length;break;case"map":case"set":e=t.size;break;case"weakmap":case"weakset":throw new H(o+".empty was passed a weak collection",void 0,n);case"function":{const e=o+".empty was passed a function "+Ht(t);throw new H(e.trim(),void 0,n)}default:if(t!==Object(t))throw new H(o+".empty was passed non-string primitive "+Fe(t),void 0,n);e=Object.keys(t).length}this.assert(0===e,"expected #{this} to be empty","expected #{this} not to be empty")}),C(nn,"checkArguments"),vt.addProperty("arguments",nn),vt.addProperty("Arguments",nn),C(on,"assertEqual"),vt.addMethod("equal",on),vt.addMethod("equals",on),vt.addMethod("eq",on),C(sn,"assertEql"),vt.addMethod("eql",sn),vt.addMethod("eqls",sn),C(rn,"assertAbove"),vt.addMethod("above",rn),vt.addMethod("gt",rn),vt.addMethod("greaterThan",rn),C(an,"assertLeast"),vt.addMethod("least",an),vt.addMethod("gte",an),vt.addMethod("greaterThanOrEqual",an),C(cn,"assertBelow"),vt.addMethod("below",cn),vt.addMethod("lt",cn),vt.addMethod("lessThan",cn),C(un,"assertMost"),vt.addMethod("most",un),vt.addMethod("lte",un),vt.addMethod("lessThanOrEqual",un),vt.addMethod("within",function(e,t,n){n&&Zt(this,"message",n);let o,s=Zt(this,"object"),i=Zt(this,"doLength"),r=Zt(this,"message"),a=r?r+": ":"",c=Zt(this,"ssfi"),u=F(s).toLowerCase(),l=F(e).toLowerCase(),h=F(t).toLowerCase(),d=!0,p="date"===l&&"date"===h?e.toISOString()+".."+t.toISOString():e+".."+t;if(i&&"map"!==u&&"set"!==u&&new vt(s,r,c,!0).to.have.property("length"),i||"date"!==u||"date"===l&&"date"===h?Kt(e)&&Kt(t)||!i&&!Kt(s)?i||"date"===u||Kt(s)?d=!1:o=a+"expected "+("string"===u?"'"+s+"'":s)+" to be a number or a date":o=a+"the arguments to within must be numbers":o=a+"the arguments to within must be dates",d)throw new H(o,void 0,c);if(i){let n,o="length";"map"===u||"set"===u?(o="size",n=s.size):n=s.length,this.assert(n>=e&&n<=t,"expected #{this} to have a "+o+" within "+p,"expected #{this} to not have a "+o+" within "+p)}else this.assert(s>=e&&s<=t,"expected #{this} to be within "+p,"expected #{this} to not be within "+p)}),C(ln,"assertInstanceOf"),vt.addMethod("instanceof",ln),vt.addMethod("instanceOf",ln),C(hn,"assertProperty"),vt.addMethod("property",hn),C(dn,"assertOwnProperty"),vt.addMethod("ownProperty",dn),vt.addMethod("haveOwnProperty",dn),C(pn,"assertOwnPropertyDescriptor"),vt.addMethod("ownPropertyDescriptor",pn),vt.addMethod("haveOwnPropertyDescriptor",pn),C(fn,"assertLengthChain"),C(gn,"assertLength"),vt.addChainableMethod("length",gn,fn),vt.addChainableMethod("lengthOf",gn,fn),C(mn,"assertMatch"),vt.addMethod("match",mn),vt.addMethod("matches",mn),vt.addMethod("string",function(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object"),o=Zt(this,"message"),s=Zt(this,"ssfi");new vt(n,o,s,!0).is.a("string"),this.assert(~n.indexOf(e),"expected #{this} to contain "+Fe(e),"expected #{this} to not contain "+Fe(e))}),C(bn,"assertKeys"),vt.addMethod("keys",bn),vt.addMethod("key",bn),C(yn,"assertThrows"),vt.addMethod("throw",yn),vt.addMethod("throws",yn),vt.addMethod("Throw",yn),C(wn,"respondTo"),vt.addMethod("respondTo",wn),vt.addMethod("respondsTo",wn),vt.addProperty("itself",function(){Zt(this,"itself",!0)}),C(xn,"satisfy"),vt.addMethod("satisfy",xn),vt.addMethod("satisfies",xn),C(vn,"closeTo"),vt.addMethod("closeTo",vn),vt.addMethod("approximately",vn),C(Sn,"isSubsetOf"),vt.addMethod("members",function(e,t){t&&Zt(this,"message",t);let n=Zt(this,"object"),o=Zt(this,"message"),s=Zt(this,"ssfi");new vt(n,o,s,!0).to.be.iterable,new vt(e,o,s,!0).to.be.iterable;let i,r,a,c=Zt(this,"contains"),u=Zt(this,"ordered");c?(i=u?"an ordered superset":"a superset",r="expected #{this} to be "+i+" of #{exp}",a="expected #{this} to not be "+i+" of #{exp}"):(i=u?"ordered members":"members",r="expected #{this} to have the same "+i+" as #{exp}",a="expected #{this} to not have the same "+i+" as #{exp}");let l=Zt(this,"deep")?Zt(this,"eql"):void 0;this.assert(Sn(e,n,l,c,u),r,a,e,n,!0)}),vt.addProperty("iterable",function(e){e&&Zt(this,"message",e);let t=Zt(this,"object");this.assert(null!=t&&t[Symbol.iterator],"expected #{this} to be an iterable","expected #{this} to not be an iterable",t)}),C(On,"oneOf"),vt.addMethod("oneOf",On),C(Nn,"assertChanges"),vt.addMethod("change",Nn),vt.addMethod("changes",Nn),C(En,"assertIncreases"),vt.addMethod("increase",En),vt.addMethod("increases",En),C(Pn,"assertDecreases"),vt.addMethod("decrease",Pn),vt.addMethod("decreases",Pn),C(Mn,"assertDelta"),vt.addMethod("by",Mn),vt.addProperty("extensible",function(){let e=Zt(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),vt.addProperty("sealed",function(){let e=Zt(this,"object"),t=e!==Object(e)||Object.isSealed(e);this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),vt.addProperty("frozen",function(){let e=Zt(this,"object"),t=e!==Object(e)||Object.isFrozen(e);this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")}),vt.addProperty("finite",function(e){let t=Zt(this,"object");this.assert("number"==typeof t&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")}),C(In,"compareSubset"),vt.addMethod("containSubset",function(e){const t=U(this,"object"),n=Ve.showDiff;this.assert(In(e,t),"expected #{act} to contain subset #{exp}","expected #{act} to not contain subset #{exp}",e,t,n)}),C(jn,"expect"),jn.fail=function(e,t,n,o){throw arguments.length<2&&(n=e,e=void 0),new H(n=n||"expect.fail()",{actual:e,expected:t,operator:o},jn.fail)};var An={};function Cn(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol||"function"==typeof BigInt&&this instanceof BigInt?new vt(this.valueOf(),null,e):new vt(this,null,e)}function t(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}C(e,"shouldGetter"),C(t,"shouldSetter"),Object.defineProperty(Object.prototype,"should",{set:t,get:e,configurable:!0});let n={fail:function(e,t,o,s){throw arguments.length<2&&(o=e,e=void 0),new H(o=o||"should.fail()",{actual:e,expected:t,operator:s},n.fail)},equal:function(e,t,n){new vt(e,n).to.equal(t)},Throw:function(e,t,n,o){new vt(e,o).to.Throw(t,n)},exist:function(e,t){new vt(e,t).to.exist},not:{}};return n.not.equal=function(e,t,n){new vt(e,n).to.not.equal(t)},n.not.Throw=function(e,t,n,o){new vt(e,o).to.not.Throw(t,n)},n.not.exist=function(e,t){new vt(e,t).to.not.exist},n.throw=n.Throw,n.not.throw=n.not.Throw,n}k(An,{Should:()=>Dn,should:()=>kn}),C(Cn,"loadShould");var kn=Cn,Dn=Cn;function Tn(e,t){new vt(null,null,Tn,!0).assert(e,t,"[ negation message unavailable ]")}C(Tn,"assert"),Tn.fail=function(e,t,n,o){throw arguments.length<2&&(n=e,e=void 0),new H(n=n||"assert.fail()",{actual:e,expected:t,operator:o},Tn.fail)},Tn.isOk=function(e,t){new vt(e,t,Tn.isOk,!0).is.ok},Tn.isNotOk=function(e,t){new vt(e,t,Tn.isNotOk,!0).is.not.ok},Tn.equal=function(e,t,n){let o=new vt(e,n,Tn.equal,!0);o.assert(t==U(o,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)},Tn.notEqual=function(e,t,n){let o=new vt(e,n,Tn.notEqual,!0);o.assert(t!=U(o,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)},Tn.strictEqual=function(e,t,n){new vt(e,n,Tn.strictEqual,!0).to.equal(t)},Tn.notStrictEqual=function(e,t,n){new vt(e,n,Tn.notStrictEqual,!0).to.not.equal(t)},Tn.deepEqual=Tn.deepStrictEqual=function(e,t,n){new vt(e,n,Tn.deepEqual,!0).to.eql(t)},Tn.notDeepEqual=function(e,t,n){new vt(e,n,Tn.notDeepEqual,!0).to.not.eql(t)},Tn.isAbove=function(e,t,n){new vt(e,n,Tn.isAbove,!0).to.be.above(t)},Tn.isAtLeast=function(e,t,n){new vt(e,n,Tn.isAtLeast,!0).to.be.least(t)},Tn.isBelow=function(e,t,n){new vt(e,n,Tn.isBelow,!0).to.be.below(t)},Tn.isAtMost=function(e,t,n){new vt(e,n,Tn.isAtMost,!0).to.be.most(t)},Tn.isTrue=function(e,t){new vt(e,t,Tn.isTrue,!0).is.true},Tn.isNotTrue=function(e,t){new vt(e,t,Tn.isNotTrue,!0).to.not.equal(!0)},Tn.isFalse=function(e,t){new vt(e,t,Tn.isFalse,!0).is.false},Tn.isNotFalse=function(e,t){new vt(e,t,Tn.isNotFalse,!0).to.not.equal(!1)},Tn.isNull=function(e,t){new vt(e,t,Tn.isNull,!0).to.equal(null)},Tn.isNotNull=function(e,t){new vt(e,t,Tn.isNotNull,!0).to.not.equal(null)},Tn.isNaN=function(e,t){new vt(e,t,Tn.isNaN,!0).to.be.NaN},Tn.isNotNaN=function(e,t){new vt(e,t,Tn.isNotNaN,!0).not.to.be.NaN},Tn.exists=function(e,t){new vt(e,t,Tn.exists,!0).to.exist},Tn.notExists=function(e,t){new vt(e,t,Tn.notExists,!0).to.not.exist},Tn.isUndefined=function(e,t){new vt(e,t,Tn.isUndefined,!0).to.equal(void 0)},Tn.isDefined=function(e,t){new vt(e,t,Tn.isDefined,!0).to.not.equal(void 0)},Tn.isCallable=function(e,t){new vt(e,t,Tn.isCallable,!0).is.callable},Tn.isNotCallable=function(e,t){new vt(e,t,Tn.isNotCallable,!0).is.not.callable},Tn.isObject=function(e,t){new vt(e,t,Tn.isObject,!0).to.be.a("object")},Tn.isNotObject=function(e,t){new vt(e,t,Tn.isNotObject,!0).to.not.be.a("object")},Tn.isArray=function(e,t){new vt(e,t,Tn.isArray,!0).to.be.an("array")},Tn.isNotArray=function(e,t){new vt(e,t,Tn.isNotArray,!0).to.not.be.an("array")},Tn.isString=function(e,t){new vt(e,t,Tn.isString,!0).to.be.a("string")},Tn.isNotString=function(e,t){new vt(e,t,Tn.isNotString,!0).to.not.be.a("string")},Tn.isNumber=function(e,t){new vt(e,t,Tn.isNumber,!0).to.be.a("number")},Tn.isNotNumber=function(e,t){new vt(e,t,Tn.isNotNumber,!0).to.not.be.a("number")},Tn.isNumeric=function(e,t){new vt(e,t,Tn.isNumeric,!0).is.numeric},Tn.isNotNumeric=function(e,t){new vt(e,t,Tn.isNotNumeric,!0).is.not.numeric},Tn.isFinite=function(e,t){new vt(e,t,Tn.isFinite,!0).to.be.finite},Tn.isBoolean=function(e,t){new vt(e,t,Tn.isBoolean,!0).to.be.a("boolean")},Tn.isNotBoolean=function(e,t){new vt(e,t,Tn.isNotBoolean,!0).to.not.be.a("boolean")},Tn.typeOf=function(e,t,n){new vt(e,n,Tn.typeOf,!0).to.be.a(t)},Tn.notTypeOf=function(e,t,n){new vt(e,n,Tn.notTypeOf,!0).to.not.be.a(t)},Tn.instanceOf=function(e,t,n){new vt(e,n,Tn.instanceOf,!0).to.be.instanceOf(t)},Tn.notInstanceOf=function(e,t,n){new vt(e,n,Tn.notInstanceOf,!0).to.not.be.instanceOf(t)},Tn.include=function(e,t,n){new vt(e,n,Tn.include,!0).include(t)},Tn.notInclude=function(e,t,n){new vt(e,n,Tn.notInclude,!0).not.include(t)},Tn.deepInclude=function(e,t,n){new vt(e,n,Tn.deepInclude,!0).deep.include(t)},Tn.notDeepInclude=function(e,t,n){new vt(e,n,Tn.notDeepInclude,!0).not.deep.include(t)},Tn.nestedInclude=function(e,t,n){new vt(e,n,Tn.nestedInclude,!0).nested.include(t)},Tn.notNestedInclude=function(e,t,n){new vt(e,n,Tn.notNestedInclude,!0).not.nested.include(t)},Tn.deepNestedInclude=function(e,t,n){new vt(e,n,Tn.deepNestedInclude,!0).deep.nested.include(t)},Tn.notDeepNestedInclude=function(e,t,n){new vt(e,n,Tn.notDeepNestedInclude,!0).not.deep.nested.include(t)},Tn.ownInclude=function(e,t,n){new vt(e,n,Tn.ownInclude,!0).own.include(t)},Tn.notOwnInclude=function(e,t,n){new vt(e,n,Tn.notOwnInclude,!0).not.own.include(t)},Tn.deepOwnInclude=function(e,t,n){new vt(e,n,Tn.deepOwnInclude,!0).deep.own.include(t)},Tn.notDeepOwnInclude=function(e,t,n){new vt(e,n,Tn.notDeepOwnInclude,!0).not.deep.own.include(t)},Tn.match=function(e,t,n){new vt(e,n,Tn.match,!0).to.match(t)},Tn.notMatch=function(e,t,n){new vt(e,n,Tn.notMatch,!0).to.not.match(t)},Tn.property=function(e,t,n){new vt(e,n,Tn.property,!0).to.have.property(t)},Tn.notProperty=function(e,t,n){new vt(e,n,Tn.notProperty,!0).to.not.have.property(t)},Tn.propertyVal=function(e,t,n,o){new vt(e,o,Tn.propertyVal,!0).to.have.property(t,n)},Tn.notPropertyVal=function(e,t,n,o){new vt(e,o,Tn.notPropertyVal,!0).to.not.have.property(t,n)},Tn.deepPropertyVal=function(e,t,n,o){new vt(e,o,Tn.deepPropertyVal,!0).to.have.deep.property(t,n)},Tn.notDeepPropertyVal=function(e,t,n,o){new vt(e,o,Tn.notDeepPropertyVal,!0).to.not.have.deep.property(t,n)},Tn.ownProperty=function(e,t,n){new vt(e,n,Tn.ownProperty,!0).to.have.own.property(t)},Tn.notOwnProperty=function(e,t,n){new vt(e,n,Tn.notOwnProperty,!0).to.not.have.own.property(t)},Tn.ownPropertyVal=function(e,t,n,o){new vt(e,o,Tn.ownPropertyVal,!0).to.have.own.property(t,n)},Tn.notOwnPropertyVal=function(e,t,n,o){new vt(e,o,Tn.notOwnPropertyVal,!0).to.not.have.own.property(t,n)},Tn.deepOwnPropertyVal=function(e,t,n,o){new vt(e,o,Tn.deepOwnPropertyVal,!0).to.have.deep.own.property(t,n)},Tn.notDeepOwnPropertyVal=function(e,t,n,o){new vt(e,o,Tn.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,n)},Tn.nestedProperty=function(e,t,n){new vt(e,n,Tn.nestedProperty,!0).to.have.nested.property(t)},Tn.notNestedProperty=function(e,t,n){new vt(e,n,Tn.notNestedProperty,!0).to.not.have.nested.property(t)},Tn.nestedPropertyVal=function(e,t,n,o){new vt(e,o,Tn.nestedPropertyVal,!0).to.have.nested.property(t,n)},Tn.notNestedPropertyVal=function(e,t,n,o){new vt(e,o,Tn.notNestedPropertyVal,!0).to.not.have.nested.property(t,n)},Tn.deepNestedPropertyVal=function(e,t,n,o){new vt(e,o,Tn.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,n)},Tn.notDeepNestedPropertyVal=function(e,t,n,o){new vt(e,o,Tn.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,n)},Tn.lengthOf=function(e,t,n){new vt(e,n,Tn.lengthOf,!0).to.have.lengthOf(t)},Tn.hasAnyKeys=function(e,t,n){new vt(e,n,Tn.hasAnyKeys,!0).to.have.any.keys(t)},Tn.hasAllKeys=function(e,t,n){new vt(e,n,Tn.hasAllKeys,!0).to.have.all.keys(t)},Tn.containsAllKeys=function(e,t,n){new vt(e,n,Tn.containsAllKeys,!0).to.contain.all.keys(t)},Tn.doesNotHaveAnyKeys=function(e,t,n){new vt(e,n,Tn.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)},Tn.doesNotHaveAllKeys=function(e,t,n){new vt(e,n,Tn.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)},Tn.hasAnyDeepKeys=function(e,t,n){new vt(e,n,Tn.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)},Tn.hasAllDeepKeys=function(e,t,n){new vt(e,n,Tn.hasAllDeepKeys,!0).to.have.all.deep.keys(t)},Tn.containsAllDeepKeys=function(e,t,n){new vt(e,n,Tn.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)},Tn.doesNotHaveAnyDeepKeys=function(e,t,n){new vt(e,n,Tn.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)},Tn.doesNotHaveAllDeepKeys=function(e,t,n){new vt(e,n,Tn.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)},Tn.throws=function(e,t,n,o){return("string"==typeof t||t instanceof RegExp)&&(n=t,t=null),U(new vt(e,o,Tn.throws,!0).to.throw(t,n),"object")},Tn.doesNotThrow=function(e,t,n,o){("string"==typeof t||t instanceof RegExp)&&(n=t,t=null),new vt(e,o,Tn.doesNotThrow,!0).to.not.throw(t,n)},Tn.operator=function(e,t,n,o){let s;switch(t){case"==":s=e==n;break;case"===":s=e===n;break;case">":s=e>n;break;case">=":s=e>=n;break;case"<":s=e<n;break;case"<=":s=e<=n;break;case"!=":s=e!=n;break;case"!==":s=e!==n;break;default:throw new H((o=o?o+": ":o)+'Invalid operator "'+t+'"',void 0,Tn.operator)}let i=new vt(s,o,Tn.operator,!0);i.assert(!0===U(i,"object"),"expected "+Fe(e)+" to be "+t+" "+Fe(n),"expected "+Fe(e)+" to not be "+t+" "+Fe(n))},Tn.closeTo=function(e,t,n,o){new vt(e,o,Tn.closeTo,!0).to.be.closeTo(t,n)},Tn.approximately=function(e,t,n,o){new vt(e,o,Tn.approximately,!0).to.be.approximately(t,n)},Tn.sameMembers=function(e,t,n){new vt(e,n,Tn.sameMembers,!0).to.have.same.members(t)},Tn.notSameMembers=function(e,t,n){new vt(e,n,Tn.notSameMembers,!0).to.not.have.same.members(t)},Tn.sameDeepMembers=function(e,t,n){new vt(e,n,Tn.sameDeepMembers,!0).to.have.same.deep.members(t)},Tn.notSameDeepMembers=function(e,t,n){new vt(e,n,Tn.notSameDeepMembers,!0).to.not.have.same.deep.members(t)},Tn.sameOrderedMembers=function(e,t,n){new vt(e,n,Tn.sameOrderedMembers,!0).to.have.same.ordered.members(t)},Tn.notSameOrderedMembers=function(e,t,n){new vt(e,n,Tn.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)},Tn.sameDeepOrderedMembers=function(e,t,n){new vt(e,n,Tn.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)},Tn.notSameDeepOrderedMembers=function(e,t,n){new vt(e,n,Tn.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)},Tn.includeMembers=function(e,t,n){new vt(e,n,Tn.includeMembers,!0).to.include.members(t)},Tn.notIncludeMembers=function(e,t,n){new vt(e,n,Tn.notIncludeMembers,!0).to.not.include.members(t)},Tn.includeDeepMembers=function(e,t,n){new vt(e,n,Tn.includeDeepMembers,!0).to.include.deep.members(t)},Tn.notIncludeDeepMembers=function(e,t,n){new vt(e,n,Tn.notIncludeDeepMembers,!0).to.not.include.deep.members(t)},Tn.includeOrderedMembers=function(e,t,n){new vt(e,n,Tn.includeOrderedMembers,!0).to.include.ordered.members(t)},Tn.notIncludeOrderedMembers=function(e,t,n){new vt(e,n,Tn.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)},Tn.includeDeepOrderedMembers=function(e,t,n){new vt(e,n,Tn.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)},Tn.notIncludeDeepOrderedMembers=function(e,t,n){new vt(e,n,Tn.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)},Tn.oneOf=function(e,t,n){new vt(e,n,Tn.oneOf,!0).to.be.oneOf(t)},Tn.isIterable=function(e,t){if(null==e||!e[Symbol.iterator])throw t=t?`${t} expected ${Fe(e)} to be an iterable`:`expected ${Fe(e)} to be an iterable`,new H(t,void 0,Tn.isIterable)},Tn.changes=function(e,t,n,o){3===arguments.length&&"function"==typeof t&&(o=n,n=null),new vt(e,o,Tn.changes,!0).to.change(t,n)},Tn.changesBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new vt(e,s,Tn.changesBy,!0).to.change(t,n).by(o)},Tn.doesNotChange=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new vt(e,o,Tn.doesNotChange,!0).to.not.change(t,n)},Tn.changesButNotBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new vt(e,s,Tn.changesButNotBy,!0).to.change(t,n).but.not.by(o)},Tn.increases=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new vt(e,o,Tn.increases,!0).to.increase(t,n)},Tn.increasesBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new vt(e,s,Tn.increasesBy,!0).to.increase(t,n).by(o)},Tn.doesNotIncrease=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new vt(e,o,Tn.doesNotIncrease,!0).to.not.increase(t,n)},Tn.increasesButNotBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new vt(e,s,Tn.increasesButNotBy,!0).to.increase(t,n).but.not.by(o)},Tn.decreases=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new vt(e,o,Tn.decreases,!0).to.decrease(t,n)},Tn.decreasesBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new vt(e,s,Tn.decreasesBy,!0).to.decrease(t,n).by(o)},Tn.doesNotDecrease=function(e,t,n,o){return 3===arguments.length&&"function"==typeof t&&(o=n,n=null),new vt(e,o,Tn.doesNotDecrease,!0).to.not.decrease(t,n)},Tn.doesNotDecreaseBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);return new vt(e,s,Tn.doesNotDecreaseBy,!0).to.not.decrease(t,n).by(o)},Tn.decreasesButNotBy=function(e,t,n,o,s){if(4===arguments.length&&"function"==typeof t){let e=o;o=n,s=e}else 3===arguments.length&&(o=n,n=null);new vt(e,s,Tn.decreasesButNotBy,!0).to.decrease(t,n).but.not.by(o)},Tn.ifError=function(e){if(e)throw e},Tn.isExtensible=function(e,t){new vt(e,t,Tn.isExtensible,!0).to.be.extensible},Tn.isNotExtensible=function(e,t){new vt(e,t,Tn.isNotExtensible,!0).to.not.be.extensible},Tn.isSealed=function(e,t){new vt(e,t,Tn.isSealed,!0).to.be.sealed},Tn.isNotSealed=function(e,t){new vt(e,t,Tn.isNotSealed,!0).to.not.be.sealed},Tn.isFrozen=function(e,t){new vt(e,t,Tn.isFrozen,!0).to.be.frozen},Tn.isNotFrozen=function(e,t){new vt(e,t,Tn.isNotFrozen,!0).to.not.be.frozen},Tn.isEmpty=function(e,t){new vt(e,t,Tn.isEmpty,!0).to.be.empty},Tn.isNotEmpty=function(e,t){new vt(e,t,Tn.isNotEmpty,!0).to.not.be.empty},Tn.containsSubset=function(e,t,n){new vt(e,n).to.containSubset(t)},Tn.doesNotContainSubset=function(e,t,n){new vt(e,n).to.not.containSubset(t)};for(const[e,t]of[["isOk","ok"],["isNotOk","notOk"],["throws","throw"],["throws","Throw"],["isExtensible","extensible"],["isNotExtensible","notExtensible"],["isSealed","sealed"],["isNotSealed","notSealed"],["isFrozen","frozen"],["isNotFrozen","notFrozen"],["isEmpty","empty"],["isNotEmpty","notEmpty"],["isCallable","isFunction"],["isNotCallable","isNotFunction"],["containsSubset","containSubset"]])Tn[t]=Tn[e];var Rn=[];C(function e(t){const n={use:e,AssertionError:H,util:D,config:Ve,expect:jn,assert:Tn,Assertion:vt,...An};return~Rn.indexOf(t)||(t(n,D),Rn.push(t)),n},"use");class $n{state={};testCases=[];suiteName;constructor(e){this.suiteName=e}test(e,t){this.testCases.push({name:e,fn:t})}async run(){console.log(`\nðŸ§ª Running test suite: ${this.suiteName}`),console.log("=".repeat(50));const e=Date.now(),t=[];let n=0,o=0;for(const e of this.testCases){const s=Date.now();let i;try{const t=await e.fn(),o=Date.now()-s;i={name:e.name,passed:!0,duration:o,returnValue:t},n++,console.log(`âœ… ${e.name} (${o}ms)`)}catch(t){const n=Date.now()-s;i={name:e.name,passed:!1,error:t,duration:n},o++,console.log(`âŒ ${e.name} (${n}ms)`),console.log(`   Error: ${t.message}`)}t.push(i)}const s=Date.now()-e,i={suiteName:this.suiteName,passed:n,failed:o,total:this.testCases.length,duration:s,testResults:t};return this.printSummary(i),i}printSummary(e){console.log("\nðŸ“Š Test Summary:"),console.log(`   Total: ${e.total}`),console.log(`   Passed: ${e.passed}`),console.log(`   Failed: ${e.failed}`),console.log(`   Duration: ${e.duration}ms`),e.failed>0?console.log(`\nâŒ Suite "${e.suiteName}" failed`):console.log(`\nâœ… Suite "${e.suiteName}" passed`)}}const qn=function(e,t,n,o={}){_n(e,t);let s=0;if(s=Array.isArray(n.capabilities)?n.capabilities.reduce((e,t)=>e|t,s):n.capabilities,s&I.SEARCH_RESULTS_PROVIDING){if(!m(t))throw new Error("extension does not implement 'SearchResultsProviding' but has the 'SEARCH_RESULTS_PROVIDING' capability");Gn(e,t,o)}if(Hn(e,t,o),s&I.CHAPTER_PROVIDING){if(!g(t))throw new Error("extension does not implement 'ChapterProviding' but has the 'CHAPTER_PROVIDING' capability");Wn(e,t,o)}},_n=function(e,t){e.test("initialisation",async()=>{await t.initialise()})},zn="SearchResultsProviding.getSearchFilters",Ln="SearchResultsProviding.getSearchResults",Bn="SearchResultsProviding.getSortingOptions",Un="MangaProviding.getMangaDetails",Vn="ChapterProviding.getChapters",Fn="ChapterProviding.getChapterDetails",Gn=function(e,t,{searchResultsProviding:n}){e.test("getSearchFilters",async()=>{jn(t).to.have.property("getSearchFilters");const n=await t.getSearchFilters();jn(n).to.not.be.undefined,e.state[zn]=n}),"getSortingOptions"in t&&e.test("getSortingOptions",async()=>{let o=n?.getSortingOptions;o||(o=[{title:"",filters:e.state[zn]??[]}]);const s=await t.getSortingOptions(...o);jn(s).not.empty,e.state[Bn]=s}),e.test("getSearchResults",async()=>{jn(t).to.have.property("getSearchResults");let o=n?.getSearchResults;if(!o){const t=e.state[zn],n=e.state[Bn];o=[{title:"",filters:t??[]},void 0,n?.[0]]}const s=await t.getSearchResults(...o);jn(s).not.empty,jn(s.items).not.be.empty,e.state[Ln]=s})},Hn=function(e,t,{mangaProviding:n}){e.test("getMangaDetails",async()=>{jn(t).to.have.property("getMangaDetails");let o=n?.getMangaDetails;if(!o){const t=e.state[Ln];if(!t?.items[0]?.mangaId)throw new Error("No `mangaId` provided in test data. Unable to infer from `SearchResultsProviding.getSearchResults`");o=[t.items[0].mangaId]}const s=await t.getMangaDetails(...o);jn(s).to.not.be.undefined,jn(s.mangaInfo).to.not.be.undefined,e.state[Un]=s})},Wn=function(e,t,{chapterProviding:n}){e.test("getChapters",async()=>{jn(t).to.have.property("getChapters");let o=n?.getChapters;if(!o){const t=e.state[Un];if(!t)throw new Error("No `sourceManga` provided in test data. Unable to infer from `MangaProviding.getMangaDetails`");o=[t]}const s=await t.getChapters(...o);jn(s).to.not.be.empty,e.state[Vn]=s}),e.test("getChapterDetails",async()=>{jn(t).to.have.property("getChapterDetails");let o=n?.getChapterDetails;if(!o){const t=e.state[Vn];if(!t?.[0])throw new Error("No `sourceManga` provided in test data. Unable to infer from `MangaProviding.getMangaDetails`");o=[t[0]]}const s=await t.getChapterDetails(...o);jn(s).to.not.be.undefined,e.state[Fn]=s})}},687:function(e,t,n){"use strict";n.r(t),n.d(t,{BasicRateLimiter:function(){return o.NO},ButtonRow:function(){return o.zE},CloudflareError:function(){return o.Oi},ContentRating:function(){return o.HG},CookieStorageInterceptor:function(){return o.T4},DeferredItem:function(){return o.B8},DiscoverSectionType:function(){return s.D},EndOfPageResults:function(){return i.EndOfPageResults},Form:function(){return o.lV},InputRow:function(){return o.BC},LabelRow:function(){return o.hl},NavigationRow:function(){return o.rV},OAuthButtonRow:function(){return o.kt},PaperbackInterceptor:function(){return o.PR},Section:function(){return o.wn},SelectRow:function(){return o.FF},SourceIntents:function(){return o.JB},StepperRow:function(){return o.wy},TestSuite:function(){return o.lB},ToggleRow:function(){return o.P8},URL:function(){return o.k},WebViewRow:function(){return o.MZ},hasPropertiesOf:function(){return o.NN},implementsChapterProviding:function(){return o.it},implementsSearchResultsProviding:function(){return o.ln},parseURL:function(){return o.vx},registerDefaultChapterProvidingSourceTests:function(){return o.I6},registerDefaultInitialisationTests:function(){return o.dK},registerDefaultMangaProvidingSourceTests:function(){return o.p$},registerDefaultSearchResultsProvidingSourceTests:function(){return o.Fe},registerDefaultTests:function(){return o.AE}});var o=n(403),s=n(929),i=n(687);n(370)}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=n(413);return o.default}()});